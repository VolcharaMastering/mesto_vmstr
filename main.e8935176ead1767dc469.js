!function(){"use strict";var e={activeForm:".popup__inputs",formInput:".popup__input",popupSaveButton:".popup__save",popupDisableButton:"popup__save_disable",inputError:"popup__input_type_error",activeError:"popup__input_error_active"},t=document.querySelector(".gallery"),n=document.forms.profile,r=document.forms.addImage,o=document.forms.addAvatar,i=n.elements.name,a=n.elements.about,c=t.querySelector(".profile__edit-button"),u=t.querySelector(".profile__add-button"),s=t.querySelector(".profile__avatar"),l={url:"https://mesto.nomoreparties.co/v1/cohort-43/",headers:{"Content-type":"application/json",authorization:"9ccf29bd-3d67-4cc8-8c99-82c18d019a44"}};function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t,n,r,o,i){var a=this,c=o.handleCardDelete,u=o.delLike,s=o.addLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"_getTemplate",(function(){return document.querySelector(a._selector).content.cloneNode(!0)})),p(this,"_deleteImage",(function(){a._handleCardDelete(a._card)})),p(this,"_addEvents",(function(){a._card.owner._id==a._myId?a._cardRemove.addEventListener("click",a._deleteImage):(a._cardRemove.remove(),a._cardRemove=null),a._cardLike.addEventListener("click",(function(){a._like?a._delLike(a._card._id):a._addLike(a._card._id)})),a._cardImage.addEventListener("click",(function(){a._handleCardClick(a._card.name,a._card.link)}))})),p(this,"_checkLikes",(function(){a._card.likes.length>0&&a._card.likes.find((function(e){return e._id==a._myId}))?(a._cardLike.classList.add("card__like_active"),a._like=!0):a._like=!1})),p(this,"_addLikeCounter",(function(e){a._likeNumber.textContent=e})),p(this,"updateLikes",(function(e){a._card.likes=e,a._checkLikes(),a._addLikeCounter(a._card.likes.length)})),this._card=t,this._selector=n,this._handleCardClick=r,this._handleCardDelete=c,this._delLike=u,this._addLike=s,this._myId=i,this._like=!1}var t,n;return t=e,(n=[{key:"delCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"toggleLikeIcon",value:function(){this._cardLike.classList.toggle("card__like_active")}},{key:"makeCard",value:function(){return this._cardTemplate=this._getTemplate(),this._cardElement=this._cardTemplate.querySelector(".card"),this._cardImage=this._cardTemplate.querySelector(".card__image"),this._cardName=this._cardTemplate.querySelector(".card__name"),this._cardRemove=this._cardTemplate.querySelector(".card__remove"),this._cardLike=this._cardTemplate.querySelector(".card__like"),this._likeNumber=this._cardTemplate.querySelector(".card__like-count"),this._checkLikes(),this._addLikeCounter(this._card.likes.length),this._cardImage.setAttribute("src",this._card.link),this._cardImage.setAttribute("alt","Фото из галереи: "+this._card.name),this._cardName.textContent=this._card.name,this._addEvents(),this._cardTemplate}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this.clear(),this._items.forEach((function(t){return e._renderer(t)}))}},{key:"prepends",value:function(e){this._container.prepend(e)}},{key:"appends",value:function(e){this._container.append(e)}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=v((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"_setEventListeners",(function(){r._toggleButtonState(),r._inputArray.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))}))})),b(this,"enableValidation",(function(){r._setEventListeners()})),b(this,"_showInputError",(function(e,t){var n=r._form.querySelector(".".concat(e.id,"-error"));e.classList.add(r._inputError),n.classList.add(r._activeError),n.textContent=t})),b(this,"_hideInputError",(function(e){var t=r._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(r._inputError),t.classList.remove(r._activeError),t.textContent=""})),b(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),b(this,"_hasInvalidInput",(function(){return r._inputArray.some((function(e){return!e.validity.valid}))})),b(this,"_toggleButtonState",(function(){r._hasInvalidInput()?(r._saveButton.classList.add(r._popupDisableButton),r._saveButton.setAttribute("disabled","disabled")):(r._saveButton.classList.remove(r._popupDisableButton),r._saveButton.removeAttribute("disabled"))})),b(this,"resetValidation",(function(){r._toggleButtonState(),r._inputArray.forEach((function(e){r._hideInputError(e)}))})),this._activeForm=t.activeForm,this._formInput=t.formInput,this._popupSaveButton=t.popupSaveButton,this._popupDisableButton=t.popupDisableButton,this._inputError=t.inputError,this._activeError=t.activeError,this._form=n,this._inputArray=Array.from(this._form.querySelectorAll(this._formInput)),this._saveButton=this._form.querySelector(this._popupSaveButton)}));function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_active"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_active"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",this._closeListener=function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close"))&&e.close()})}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function O(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=j(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},S.apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(n);if(r){var o=P(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return O(this,e)});function i(e){var t,n,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),c=function(e,r){n._bigImage.setAttribute("src",r),n._bigImage.setAttribute("alt","Увеличенное фото из галереи: "+e),n._bigImageCaption.textContent=e,S((t=L(n),P(i.prototype)),"open",t).call(t)},(a="open")in(r=L(n=o.call(this,e)))?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r.open=c,n._bigImage=n._popup.querySelector(".popup__image"),n._bigImageCaption=n._popup.querySelector(".popup__image-caption"),n}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(k);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=B(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},T.apply(this,arguments)}function B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function x(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(o){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._popup.querySelector(".popup__inputs"),n._inputArray=n._popup.querySelectorAll(".popup__input"),n._getDataFromApi=t,n._saveButton=n._popup.querySelector(".popup__save"),n._initialText=n._saveButton.textContent,n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputArray.forEach((function(t){e[t.name]=t.value})),e}},{key:"renderInitialText",value:function(){this._saveButton.textContent=this._initialText}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._saveButton.textContent="Сохранение...",e._getDataFromApi(e._getInputValues())})),T(D(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){T(D(a.prototype),"close",this).call(this),this._form.reset()}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(k);function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(t){var n=t.name,r=t.about,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about,this._avatar.setAttribute("src",e.avatar)}}])&&V(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=l}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Bug detected! ".concat(e.status))}},{key:"getData",value:function(e){return fetch(this._config.url+e,{headers:this._config.headers}).then(this._checkResponse)}},{key:"delLike",value:function(e){return fetch(this._config.url+"cards/".concat(e,"/likes"),{headers:this._config.headers,method:"DELETE"}).then(this._checkResponse)}},{key:"addLike",value:function(e){return fetch(this._config.url+"cards/".concat(e,"/likes"),{headers:this._config.headers,method:"PUT"}).then(this._checkResponse)}},{key:"setCard",value:function(e){return fetch(this._config.url+"cards",{headers:this._config.headers,method:"POST",body:JSON.stringify(e)}).then(this._checkResponse)}},{key:"delCard",value:function(e){return fetch(this._config.url+"cards/"+e,{headers:this._config.headers,method:"DELETE"}).then(this._checkResponse)}},{key:"setProfile",value:function(e,t){return fetch(this._config.url+"users/me"+e,{headers:this._config.headers,method:"PATCH",body:JSON.stringify(t)}).then(this._checkResponse)}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(){return M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Y(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},M.apply(this,arguments)}function Y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function K(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Q(e)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=W(r);if(o){var n=W(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return K(this,e)});function a(){var e;H(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return X(Q(e=i.call.apply(i,[this].concat(n))),"setSubmitAction",(function(t){e._pressYess=t})),e}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__ok").addEventListener("click",(function(t){t.preventDefault(),e._pressYess()})),M(W(a.prototype),"setEventListeners",this).call(this)}}])&&J(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(k),$=new C(".popup_big-image");$.setEventListeners();var ee=new Z(".popup_question");ee.setEventListeners();var te=new N({name:".profile__name",about:".profile__description",avatar:".profile__avatar-image"}),ne=new F;ne.getData("users/me").then((function(e){window.myId=e._id,te.setUserInfo(e),ne.getData("cards").then((function(e){window.addGalary=new _({items:e,renderer:function(e){var t=re(e,myId);addGalary.appends(t)}},".photos"),addGalary.renderItems()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));var re=function(e,t){var n=new d(e,".template-card",ce,{handleCardDelete:function(e){ee.open(),ee.setSubmitAction((function(){ne.delCard(e._id).then((function(){n.delCard(),ee.close()})).catch((function(e){console.log(e)}))}))},delLike:function(e){ne.delLike(e).then((function(e){n.toggleLikeIcon(),n.updateLikes(e.likes)})).catch((function(e){console.log(e)}))},addLike:function(e){ne.addLike(e).then((function(e){n.toggleLikeIcon(),n.updateLikes(e.likes)})).catch((function(e){console.log(e)}))}},t);return n.makeCard()},oe=new A(".popup_adder",(function(e){ne.setCard(e).then((function(e){var t=re(e,e.owner._id);addGalary.prepends(t),oe.close()})).catch((function(e){console.log(e)})).finally((function(){oe.renderInitialText()}))}));oe.setEventListeners();var ie=new A(".popup_editor",(function(e){ne.setProfile("",e).then((function(e){te.setUserInfo(e),ie.close()})).catch((function(e){console.log(e)})).finally((function(){ie.renderInitialText()}))}));ie.setEventListeners();var ae=new A(".popup_avatar",(function(e){ne.setProfile("/avatar",e).then((function(e){te.setUserInfo(e),ae.close()})).catch((function(e){console.log(e)})).finally((function(){ae.renderInitialText()}))}));ae.setEventListeners();var ce=function(e,t){$.open(e,t)},ue=new m(e,n);ue.enableValidation();var se=new m(e,r);se.enableValidation();var le=new m(e,o);le.enableValidation(),u.addEventListener("click",(function(){oe.open(),se.resetValidation()})),s.addEventListener("click",(function(){ae.open(),le.resetValidation()})),c.addEventListener("click",(function(){ie.open();var e=te.getUserInfo();i.value=e.name,a.value=e.about,ue.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB2YWxpZGF0aW9uTGlzdCA9IHtcbiAgYWN0aXZlRm9ybTogJy5wb3B1cF9faW5wdXRzJyxcbiAgZm9ybUlucHV0OiAnLnBvcHVwX19pbnB1dCcsXG4gIHBvcHVwU2F2ZUJ1dHRvbjogJy5wb3B1cF9fc2F2ZScsXG4gIHBvcHVwRGlzYWJsZUJ1dHRvbjogJ3BvcHVwX19zYXZlX2Rpc2FibGUnLFxuICBpbnB1dEVycm9yOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxuICBhY3RpdmVFcnJvcjogJ3BvcHVwX19pbnB1dF9lcnJvcl9hY3RpdmUnXG59O1xuXG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnknKTtcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXMucHJvZmlsZTtcbmNvbnN0IGNhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXMuYWRkSW1hZ2U7XG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQuZm9ybXMuYWRkQXZhdGFyO1xuLy8gY29uc3QgYXZhdGFySW1hZ2UgPSBtYWluLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItaW1hZ2UnKTtcblxuY29uc3QgcHJvZmlsZURlc2NyaWJlID0ge1xuICBuYW1lOiAnLnByb2ZpbGVfX25hbWUnLFxuICBhYm91dDogJy5wcm9maWxlX19kZXNjcmlwdGlvbicsXG4gIGF2YXRhcjogJy5wcm9maWxlX19hdmF0YXItaW1hZ2UnXG59O1xuY29uc3QgaW5wdXROYW1lID0gcHJvZmlsZUZvcm0uZWxlbWVudHMubmFtZTtcbmNvbnN0IGlucHV0bkRlc2NyaXB0ID0gcHJvZmlsZUZvcm0uZWxlbWVudHMuYWJvdXQ7XG5cblxuLy8tLS0tLWJ1dHRvbnMtLS0tLS0tXG5jb25zdCBwcm9maWxlT3BlbkJ1dHRvbiA9IG1haW4ucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBjYXJkQWRkQnV0dG9uID0gbWFpbi5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuY29uc3QgYXZhdGFyQ2hhbmdlQnV0dG9uID0gbWFpbi5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5cbi8vLy0tLS0tLUZvciBBUEkgcmVxdWVzdC0tLS0tLVxuY29uc3QgY29uZmlnPXtcbiAgJ3VybCc6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzLycsXG4gICdoZWFkZXJzJzoge1xuICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgJ2F1dGhvcml6YXRpb24nOiAnOWNjZjI5YmQtM2Q2Ny00Y2M4LThjOTktODJjMThkMDE5YTQ0J1xuICB9XG59XG5cbmV4cG9ydCB7XG4gIHByb2ZpbGVGb3JtLCBjYXJkRm9ybSxcbiAgdmFsaWRhdGlvbkxpc3QsIGF2YXRhckZvcm0sXG4gIHByb2ZpbGVEZXNjcmliZSwgaW5wdXROYW1lLCBpbnB1dG5EZXNjcmlwdCxcbiAgcHJvZmlsZU9wZW5CdXR0b24sIGNhcmRBZGRCdXR0b24sIGF2YXRhckNoYW5nZUJ1dHRvbixcbiAgY29uZmlnXG59OyIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgICBjb25zdHJ1Y3RvcihpdGVtLCBzZWxlY3RvclRlbXBsYXRlLCBoYW5kbGVDYXJkQ2xpY2ssIHsgaGFuZGxlQ2FyZERlbGV0ZSwgZGVsTGlrZSwgYWRkTGlrZSB9LCBteUlkKSB7XG4gICAgICAgIHRoaXMuX2NhcmQgPSBpdGVtO1xuICAgICAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yVGVtcGxhdGU7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSA9IGhhbmRsZUNhcmREZWxldGU7XG4gICAgICAgIHRoaXMuX2RlbExpa2UgPSBkZWxMaWtlO1xuICAgICAgICB0aGlzLl9hZGRMaWtlID0gYWRkTGlrZTtcbiAgICAgICAgdGhpcy5fbXlJZCA9IG15SWQ7XG4gICAgICAgIHRoaXMuX2xpa2UgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBfZ2V0VGVtcGxhdGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcilcbiAgICAgICAgICAgIC5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIGNhcmRUZW1wbGF0ZTtcbiAgICB9XG5cbiAgICBfZGVsZXRlSW1hZ2UgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUodGhpcy5fY2FyZCk7XG4gICAgfVxuICAgIGRlbENhcmQoKSB7XG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG5cbiAgICB9XG5cbiAgICBfYWRkRXZlbnRzID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5fY2FyZC5vd25lci5faWQgPT0gdGhpcy5fbXlJZCkge1xuICAgICAgICAgICAgdGhpcy5fY2FyZFJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2RlbGV0ZUltYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRSZW1vdmUucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLl9jYXJkUmVtb3ZlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xpa2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxMaWtlKHRoaXMuX2NhcmQuX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZExpa2UodGhpcy5fY2FyZC5faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX2NhcmQubmFtZSwgdGhpcy5fY2FyZC5saW5rKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlTGlrZUljb24oKSB7XG4gICAgICAgIHRoaXMuX2NhcmRMaWtlLmNsYXNzTGlzdC50b2dnbGUoJ2NhcmRfX2xpa2VfYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgLy8vLy0tLS0tRnVuY3Rpb24gZm9yIGNoZWNraW5nIGxpa2VzICAgIC0tLS0tLS8vLy8vLy9cbiAgICBfY2hlY2tMaWtlcyA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX2NhcmQubGlrZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgaXNMaWtlID0gdGhpcy5fY2FyZC5saWtlcy5maW5kKGl0ZW0gPT4gaXRlbS5faWQgPT0gdGhpcy5fbXlJZCk7XG4gICAgICAgICAgICBpZiAoaXNMaWtlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9saWtlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGlrZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbGlrZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hZGRMaWtlQ291bnRlciA9IChjb3VudGVyKSA9PiB7XG4gICAgICAgIHRoaXMuX2xpa2VOdW1iZXIudGV4dENvbnRlbnQgPSBjb3VudGVyO1xuICAgIH07XG5cbiAgICB1cGRhdGVMaWtlcyA9IChsaWtlcykgPT4ge1xuICAgICAgICB0aGlzLl9jYXJkLmxpa2VzID0gbGlrZXM7XG4gICAgICAgIHRoaXMuX2NoZWNrTGlrZXMoKTtcbiAgICAgICAgdGhpcy5fYWRkTGlrZUNvdW50ZXIodGhpcy5fY2FyZC5saWtlcy5sZW5ndGgpXG4gICAgfVxuXG4gICAgbWFrZUNhcmQoKSB7XG4gICAgICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJyk7XG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKTtcbiAgICAgICAgdGhpcy5fY2FyZE5hbWUgPSB0aGlzLl9jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNhcmRfX25hbWUnKTtcbiAgICAgICAgdGhpcy5fY2FyZFJlbW92ZSA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fcmVtb3ZlJyk7XG4gICAgICAgIHRoaXMuX2NhcmRMaWtlID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlJyk7XG4gICAgICAgIHRoaXMuX2xpa2VOdW1iZXIgPSB0aGlzLl9jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtY291bnQnKTtcbiAgICAgICAgdGhpcy5fY2hlY2tMaWtlcygpO1xuICAgICAgICB0aGlzLl9hZGRMaWtlQ291bnRlcih0aGlzLl9jYXJkLmxpa2VzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuX2NhcmQubGluayk7XG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsICfQpNC+0YLQviDQuNC3INCz0LDQu9C10YDQtdC4OiAnICsgdGhpcy5fY2FyZC5uYW1lKTtcbiAgICAgICAgdGhpcy5fY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9jYXJkLm5hbWU7XG4gICAgICAgIHRoaXMuX2FkZEV2ZW50cygpO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZFRlbXBsYXRlO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICB9XG5cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpXG4gIH1cblxuXG4gIHByZXBlbmRzKGl0ZW1IdG1sKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbUh0bWwpXG4gIH1cbiAgYXBwZW5kcyhpdGVtSHRtbCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoaXRlbUh0bWwpXG4gIH1cbn1cblxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGxpc3QsIGZvcm1BY3RpdmUpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlRm9ybSA9IGxpc3QuYWN0aXZlRm9ybTtcbiAgICAgICAgdGhpcy5fZm9ybUlucHV0ID0gbGlzdC5mb3JtSW5wdXQ7XG4gICAgICAgIHRoaXMuX3BvcHVwU2F2ZUJ1dHRvbiA9IGxpc3QucG9wdXBTYXZlQnV0dG9uO1xuICAgICAgICB0aGlzLl9wb3B1cERpc2FibGVCdXR0b24gPSBsaXN0LnBvcHVwRGlzYWJsZUJ1dHRvbjtcbiAgICAgICAgdGhpcy5faW5wdXRFcnJvciA9IGxpc3QuaW5wdXRFcnJvcjtcbiAgICAgICAgdGhpcy5fYWN0aXZlRXJyb3IgPSBsaXN0LmFjdGl2ZUVycm9yO1xuICAgICAgICB0aGlzLl9mb3JtID0gZm9ybUFjdGl2ZTtcbiAgICAgICAgdGhpcy5faW5wdXRBcnJheSA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2Zvcm1JbnB1dCkpO1xuICAgICAgICB0aGlzLl9zYXZlQnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3BvcHVwU2F2ZUJ1dHRvbik7XG4gICAgfVxuXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICB0aGlzLl9pbnB1dEFycmF5LmZvckVhY2goKGlucHV0cykgPT4ge1xuICAgICAgICAgICAgaW5wdXRzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9O1xuXG4gICAgX3Nob3dJbnB1dEVycm9yID0gKHZhbGlkRWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9ySW5FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHt2YWxpZEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIHZhbGlkRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3IpO1xuICAgICAgICBlcnJvckluRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2FjdGl2ZUVycm9yKTtcbiAgICAgICAgZXJyb3JJbkVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgfVxuXG4gICAgX2hpZGVJbnB1dEVycm9yID0gKHZhbGlkRWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBlcnJvckluRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7dmFsaWRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICB2YWxpZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yKTtcbiAgICAgICAgZXJyb3JJbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9hY3RpdmVFcnJvcik7XG4gICAgICAgIGVycm9ySW5FbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgfVxuXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9ICh2YWxpZEVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKCF2YWxpZEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKHZhbGlkRWxlbWVudCwgdmFsaWRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHRoaXMuX2hpZGVJbnB1dEVycm9yKHZhbGlkRWxlbWVudCk7XG4gICAgfVxuXG4gICAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0QXJyYXkuc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NhdmVCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9wb3B1cERpc2FibGVCdXR0b24pO1xuICAgICAgICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zYXZlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fcG9wdXBEaXNhYmxlQnV0dG9uKTtcbiAgICAgICAgICAgIHRoaXMuX3NhdmVCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXRWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICB0aGlzLl9pbnB1dEFycmF5LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgb3BlbigpIHtcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX2FjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIH1cblxuICAgIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZUxpc3RlbmVyID0gKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0IHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9iaWdJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcbiAgICAgICAgdGhpcy5fYmlnSW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1jYXB0aW9uJyk7XG4gICAgfVxuXG4gICAgb3BlbiA9IChuYW1lLCBsaW5rKSA9PiB7XG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgbGluayk7XG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgJ9Cj0LLQtdC70LjRh9C10L3QvdC+0LUg0YTQvtGC0L4g0LjQtyDQs9Cw0LvQtdGA0LXQuDogJyArIG5hbWUpO1xuICAgICAgICB0aGlzLl9iaWdJbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgfVxufVxuXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yLCBnZXREYXRhRnJvbUFwaSkge1xuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0cycpO1xuICAgICAgICB0aGlzLl9pbnB1dEFycmF5ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xuICAgICAgICB0aGlzLl9nZXREYXRhRnJvbUFwaSA9IGdldERhdGFGcm9tQXBpO1xuICAgICAgICB0aGlzLl9zYXZlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlJyk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxUZXh0ID0gdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICB9XG5cbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlcyA9IHt9O1xuICAgICAgICB0aGlzLl9pbnB1dEFycmF5LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdWYWx1ZXM7XG4gICAgfVxuXG4gICAgcmVuZGVySW5pdGlhbFRleHQoKSB7XG4gICAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9pbml0aWFsVGV4dDtcbiAgICB9XG5cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xuICAgICAgICAgICAgdGhpcy5fZ2V0RGF0YUZyb21BcGkodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBzdXBlci5jbG9zZSgpO1xuICAgICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gICAgY29uc3RydWN0b3IoeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZSk7XG4gICAgICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dCk7XG4gICAgICAgIHRoaXMuX2F2YXRhcj0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXIpO1xuICAgIH1cbiAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgICAgY29uc3QgZ2V0SW5mbyA9IHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG4gICAgICAgICAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGdldEluZm87XG4gICAgfVxuXG4gICAgc2V0VXNlckluZm8obmV3RGF0YSkge1xuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmV3RGF0YS5uYW1lO1xuICAgICAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IG5ld0RhdGEuYWJvdXQ7XG4gICAgICAgIHRoaXMuX2F2YXRhci5zZXRBdHRyaWJ1dGUoJ3NyYycsIG5ld0RhdGEuYXZhdGFyKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vdXRpbGxzL2NvbnN0YW50cy5qc1wiO1xuXG5leHBvcnQgY2xhc3MgQXBpIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIH1cblxuICAgIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEJ1ZyBkZXRlY3RlZCEgJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cblxuICAgIGdldERhdGEoZm9yVXJsKSB7XG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9jb25maWcudXJsK2ZvclVybCwgeyBcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2NvbmZpZy5oZWFkZXJzIFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSApO1xuICAgIH1cblxuXG4gICAgZGVsTGlrZShjYXJkSWQpe1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fY29uZmlnLnVybCtgY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fY29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UgKTtcbiAgICB9IFxuXG4gICAgYWRkTGlrZShjYXJkSWQpe1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fY29uZmlnLnVybCtgY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fY29uZmlnLmhlYWRlcnMgLFxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJ1xuICAgICAgICB9KVxuICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlICk7XG4gICAgfSBcblxuICAgIHNldENhcmQoc2V0dGluZ3Mpe1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fY29uZmlnLnVybCsnY2FyZHMnLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9jb25maWcuaGVhZGVycyAsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSApO1xuICAgIH1cblxuICAgIGRlbENhcmQoY2FyZElkKXtcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX2NvbmZpZy51cmwrJ2NhcmRzLycrY2FyZElkLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9jb25maWcuaGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURSdcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSApO1xuICAgIH1cblxuICAgIHNldFByb2ZpbGUoZm9yVXJsLGRhdGEpe1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fY29uZmlnLnVybCsndXNlcnMvbWUnK2ZvclVybCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fY29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSApO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XG5cbiAgICBzZXRTdWJtaXRBY3Rpb24gPSAoYWN0aW9uKSA9PiB7XG4gICAgICAgIHRoaXMuX3ByZXNzWWVzcyA9IGFjdGlvbjtcbiAgICB9XG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fb2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5fcHJlc3NZZXNzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIH1cbn0iLCJpbXBvcnQge1xuICBwcm9maWxlRm9ybSwgY2FyZEZvcm0sXG4gIHZhbGlkYXRpb25MaXN0LCBhdmF0YXJGb3JtLFxuICBwcm9maWxlRGVzY3JpYmUsIGlucHV0TmFtZSwgaW5wdXRuRGVzY3JpcHQsXG4gIHByb2ZpbGVPcGVuQnV0dG9uLCBjYXJkQWRkQnV0dG9uLCBhdmF0YXJDaGFuZ2VCdXR0b25cbn0gZnJvbSBcIi4uL3V0aWxscy9jb25zdGFudHNcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgeyBQb3B1cENvbmZpcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cENvbmZpcm1cIjtcblxuXG4vLz09PT09PT1jbGFzc2VzIGFuZCBjYWxsYmFja3M9PT09PT09PT1cblxuY29uc3QgYmlnSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF9iaWctaW1hZ2UnKTtcbmJpZ0ltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNvbmZpcm1Qb3B1cCA9IG5ldyBQb3B1cENvbmZpcm0oJy5wb3B1cF9xdWVzdGlvbicpO1xuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVEZXNjcmliZSk7XG5cbi8vLy8vLy8vLy0tZ2V0dGluZyB1c2VyIGluZm8gJiBjYXJkcyBmcm9tIHNlcnZlci0tLy8vLy8vLy9cbmNvbnN0IGFwaSA9IG5ldyBBcGkoKTtcbmFwaS5nZXREYXRhKCd1c2Vycy9tZScpXG4gIC50aGVuKCh1c2Vyc0luZm8pID0+IHtcbiAgICB3aW5kb3cubXlJZCA9IHVzZXJzSW5mby5faWQ7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlcnNJbmZvKTtcbiAgICBhcGkuZ2V0RGF0YSgnY2FyZHMnKVxuICAgICAgLnRoZW4oKGRiQ2FyZHMpID0+IHtcbiAgICAgICAgd2luZG93LmFkZEdhbGFyeSA9IG5ldyBTZWN0aW9uKHtcbiAgICAgICAgICBpdGVtczogZGJDYXJkcyxcbiAgICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJldHVybkNhcmQgPSBhZGROZXdDYXJkKGl0ZW0sIG15SWQpO1xuICAgICAgICAgICAgYWRkR2FsYXJ5LmFwcGVuZHMocmV0dXJuQ2FyZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBcIi5waG90b3NcIik7XG4gICAgICAgIGFkZEdhbGFyeS5yZW5kZXJJdGVtcygpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcblxuXG4vLy8vLy8vLy8tLS0tLSBNYWtpbmcgZXZlcnkgY2FyZCAtLS0tLS0tLy8vLy8vLy9cbmNvbnN0IGFkZE5ld0NhcmQgPSAoZGVzY3JpYmUsIG15SWQpID0+IHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGRlc2NyaWJlLCAnLnRlbXBsYXRlLWNhcmQnLCBoYW5kbGVDYXJkQ2xpY2ssXG4gICAge1xuICAgICAgaGFuZGxlQ2FyZERlbGV0ZTogKGNhcmRUb0RlbCkgPT4ge1xuICAgICAgICBjb25maXJtUG9wdXAub3BlbigpO1xuICAgICAgICBjb25maXJtUG9wdXAuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcbiAgICAgICAgICBhcGkuZGVsQ2FyZChjYXJkVG9EZWwuX2lkKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBjYXJkLmRlbENhcmQoKTtcbiAgICAgICAgICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBkZWxMaWtlOiAoY2FyZElkKSA9PiB7XG4gICAgICAgIGFwaS5kZWxMaWtlKGNhcmRJZClcbiAgICAgICAgICAudGhlbigoaXRlbSkgPT4ge1xuICAgICAgICAgICAgY2FyZC50b2dnbGVMaWtlSWNvbigpO1xuICAgICAgICAgICAgY2FyZC51cGRhdGVMaWtlcyhpdGVtLmxpa2VzKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGFkZExpa2U6IChjYXJkSWQpID0+IHtcbiAgICAgICAgYXBpLmFkZExpa2UoY2FyZElkKVxuICAgICAgICAgIC50aGVuKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjYXJkLnRvZ2dsZUxpa2VJY29uKCk7XG4gICAgICAgICAgICBjYXJkLnVwZGF0ZUxpa2VzKGl0ZW0ubGlrZXMpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBteUlkKTtcbiAgY29uc3QgbmV3UmV0dXJuQ2FyZCA9IGNhcmQubWFrZUNhcmQoKTtcbiAgcmV0dXJuIG5ld1JldHVybkNhcmQ7XG59XG5cbi8vLy8vLy8vLy0tLS0tIFBvcHVwIGZvcm1zIGNyZWF0aW5nIC0tLS0tLS0vLy8vLy8vL1xuY29uc3QgcG9wdXBDYXJkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICAnLnBvcHVwX2FkZGVyJyxcbiAgKG5hbWVBbmRMaW5rKSA9PiB7XG4gICAgYXBpLnNldENhcmQobmFtZUFuZExpbmspXG4gICAgICAudGhlbigoY2FyZCkgPT4ge1xuICAgICAgICBjb25zdCByZXR1cm5DYXJkID0gYWRkTmV3Q2FyZChjYXJkLCBjYXJkLm93bmVyLl9pZCk7XG4gICAgICAgIGFkZEdhbGFyeS5wcmVwZW5kcyhyZXR1cm5DYXJkKTtcbiAgICAgICAgcG9wdXBDYXJkRm9ybS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwb3B1cENhcmRGb3JtLnJlbmRlckluaXRpYWxUZXh0KCk7XG4gICAgICB9KTtcbiAgfVxuKTtcbnBvcHVwQ2FyZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gICcucG9wdXBfZWRpdG9yJyxcbiAgKG5ld0lucHV0cykgPT4ge1xuICAgIGFwaS5zZXRQcm9maWxlKCcnLG5ld0lucHV0cylcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgICAgICBwb3B1cFByb2ZpbGUuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBQcm9maWxlLnJlbmRlckluaXRpYWxUZXh0KCk7XG4gICAgICB9KTtcbiAgfVxuKTtcbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICAnLnBvcHVwX2F2YXRhcicsXG4gIChnZXRBdmF0YXIpID0+IHtcbiAgICBhcGkuc2V0UHJvZmlsZSgnL2F2YXRhcicsZ2V0QXZhdGFyKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gICAgICAgIHBvcHVwQXZhdGFyLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwQXZhdGFyLnJlbmRlckluaXRpYWxUZXh0KCk7XG4gICAgICB9KTtcbiAgfVxuKTtcbnBvcHVwQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cblxuLy89PT09PT09ZnVuY3Rpb25zPT09PT09PT09XG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoY2FyZE5hbWUsIGNhcmRMaW5rKSA9PiB7XG4gIGJpZ0ltYWdlLm9wZW4oY2FyZE5hbWUsIGNhcmRMaW5rKTtcbn1cblxuLy8tLS0tLS0tLWVuYWJsZSB2YWxpZGF0aW9uLS0tLS0tLS0tLVxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0ZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25MaXN0LCBwcm9maWxlRm9ybSk7XG5wcm9maWxlRm9ybVZhbGlkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgY2FyZEZvcm1WYWxpZGF0ZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25MaXN0LCBjYXJkRm9ybSk7XG5jYXJkRm9ybVZhbGlkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkxpc3QsIGF2YXRhckZvcm0pO1xuYXZhdGFyRm9ybVZhbGlkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuXG4vLz09PT09PT09PT1idXR0b25zIGxpc3RlbmVycz09PT09PT09PT09XG5cbmNhcmRBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwQ2FyZEZvcm0ub3BlbigpO1xuICBjYXJkRm9ybVZhbGlkYXRlLnJlc2V0VmFsaWRhdGlvbigpO1xufSlcblxuYXZhdGFyQ2hhbmdlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cEF2YXRhci5vcGVuKCk7XG4gIGF2YXRhckZvcm1WYWxpZGF0ZS5yZXNldFZhbGlkYXRpb24oKTtcbn0pXG5cbnByb2ZpbGVPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cFByb2ZpbGUub3BlbigpO1xuICBjb25zdCBvbGRQcm9maWxlID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lLnZhbHVlID0gb2xkUHJvZmlsZS5uYW1lO1xuICBpbnB1dG5EZXNjcmlwdC52YWx1ZSA9IG9sZFByb2ZpbGUuYWJvdXQ7XG4gIHByb2ZpbGVGb3JtVmFsaWRhdGUucmVzZXRWYWxpZGF0aW9uKCk7XG59KVxuXG4iXSwibmFtZXMiOlsidmFsaWRhdGlvbkxpc3QiLCJhY3RpdmVGb3JtIiwiZm9ybUlucHV0IiwicG9wdXBTYXZlQnV0dG9uIiwicG9wdXBEaXNhYmxlQnV0dG9uIiwiaW5wdXRFcnJvciIsImFjdGl2ZUVycm9yIiwibWFpbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByb2ZpbGVGb3JtIiwiZm9ybXMiLCJwcm9maWxlIiwiY2FyZEZvcm0iLCJhZGRJbWFnZSIsImF2YXRhckZvcm0iLCJhZGRBdmF0YXIiLCJpbnB1dE5hbWUiLCJlbGVtZW50cyIsIm5hbWUiLCJpbnB1dG5EZXNjcmlwdCIsImFib3V0IiwicHJvZmlsZU9wZW5CdXR0b24iLCJjYXJkQWRkQnV0dG9uIiwiYXZhdGFyQ2hhbmdlQnV0dG9uIiwiY29uZmlnIiwiQ2FyZCIsIml0ZW0iLCJzZWxlY3RvclRlbXBsYXRlIiwiaGFuZGxlQ2FyZENsaWNrIiwibXlJZCIsImhhbmRsZUNhcmREZWxldGUiLCJkZWxMaWtlIiwiYWRkTGlrZSIsIl9zZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9jYXJkIiwib3duZXIiLCJfaWQiLCJfbXlJZCIsIl9jYXJkUmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVJbWFnZSIsInJlbW92ZSIsIl9jYXJkTGlrZSIsIl9saWtlIiwiX2RlbExpa2UiLCJfYWRkTGlrZSIsIl9jYXJkSW1hZ2UiLCJfaGFuZGxlQ2FyZENsaWNrIiwibGluayIsImxpa2VzIiwibGVuZ3RoIiwiZmluZCIsImNsYXNzTGlzdCIsImFkZCIsImNvdW50ZXIiLCJfbGlrZU51bWJlciIsInRleHRDb250ZW50IiwiX2NoZWNrTGlrZXMiLCJfYWRkTGlrZUNvdW50ZXIiLCJ0aGlzIiwiX2NhcmRFbGVtZW50IiwidG9nZ2xlIiwiX2NhcmRUZW1wbGF0ZSIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkTmFtZSIsInNldEF0dHJpYnV0ZSIsIl9hZGRFdmVudHMiLCJTZWN0aW9uIiwic2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImlubmVySFRNTCIsImNsZWFyIiwiZm9yRWFjaCIsIml0ZW1IdG1sIiwicHJlcGVuZCIsImFwcGVuZCIsIkZvcm1WYWxpZGF0b3IiLCJsaXN0IiwiZm9ybUFjdGl2ZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pbnB1dEFycmF5IiwiaW5wdXRzIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVycyIsInZhbGlkRWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9ySW5FbGVtZW50IiwiX2Zvcm0iLCJpZCIsIl9pbnB1dEVycm9yIiwiX2FjdGl2ZUVycm9yIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsImlucHV0RWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc2F2ZUJ1dHRvbiIsIl9wb3B1cERpc2FibGVCdXR0b24iLCJyZW1vdmVBdHRyaWJ1dGUiLCJpbnB1dCIsIl9hY3RpdmVGb3JtIiwiX2Zvcm1JbnB1dCIsIl9wb3B1cFNhdmVCdXR0b24iLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiUG9wdXAiLCJldnQiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2Nsb3NlTGlzdGVuZXIiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9iaWdJbWFnZSIsIl9iaWdJbWFnZUNhcHRpb24iLCJQb3B1cFdpdGhGb3JtIiwiZ2V0RGF0YUZyb21BcGkiLCJfZ2V0RGF0YUZyb21BcGkiLCJfaW5pdGlhbFRleHQiLCJuZXdWYWx1ZXMiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJVc2VySW5mbyIsImF2YXRhciIsIl9uYW1lIiwiX2Fib3V0IiwiX2F2YXRhciIsIm5ld0RhdGEiLCJBcGkiLCJfY29uZmlnIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZvclVybCIsImZldGNoIiwidXJsIiwiaGVhZGVycyIsInRoZW4iLCJfY2hlY2tSZXNwb25zZSIsImNhcmRJZCIsIm1ldGhvZCIsInNldHRpbmdzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwiUG9wdXBDb25maXJtIiwiYWN0aW9uIiwiX3ByZXNzWWVzcyIsImJpZ0ltYWdlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjb25maXJtUG9wdXAiLCJ1c2VySW5mbyIsImFwaSIsImdldERhdGEiLCJ1c2Vyc0luZm8iLCJ3aW5kb3ciLCJzZXRVc2VySW5mbyIsImRiQ2FyZHMiLCJhZGRHYWxhcnkiLCJyZXR1cm5DYXJkIiwiYWRkTmV3Q2FyZCIsImFwcGVuZHMiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImRlc2NyaWJlIiwiY2FyZCIsImNhcmRUb0RlbCIsIm9wZW4iLCJzZXRTdWJtaXRBY3Rpb24iLCJkZWxDYXJkIiwidG9nZ2xlTGlrZUljb24iLCJ1cGRhdGVMaWtlcyIsIm1ha2VDYXJkIiwicG9wdXBDYXJkRm9ybSIsIm5hbWVBbmRMaW5rIiwic2V0Q2FyZCIsInByZXBlbmRzIiwiZmluYWxseSIsInJlbmRlckluaXRpYWxUZXh0IiwicG9wdXBQcm9maWxlIiwibmV3SW5wdXRzIiwic2V0UHJvZmlsZSIsInBvcHVwQXZhdGFyIiwiZ2V0QXZhdGFyIiwiY2FyZE5hbWUiLCJjYXJkTGluayIsInByb2ZpbGVGb3JtVmFsaWRhdGUiLCJlbmFibGVWYWxpZGF0aW9uIiwiY2FyZEZvcm1WYWxpZGF0ZSIsImF2YXRhckZvcm1WYWxpZGF0ZSIsInJlc2V0VmFsaWRhdGlvbiIsIm9sZFByb2ZpbGUiLCJnZXRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=