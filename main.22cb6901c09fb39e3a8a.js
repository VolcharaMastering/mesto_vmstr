!function(){"use strict";var e={activeForm:".popup__inputs",formInput:".popup__input",popupSaveButton:".popup__save",popupDisableButton:"popup__save_disable",inputError:"popup__input_type_error",activeError:"popup__input_error_active"},t=document.querySelector(".gallery"),n=document.forms.profile,r=document.forms.addImage,o=document.forms.addAvatar,i=t.querySelector(".profile__avatar-image"),a=n.elements.name,c=n.elements.about,u=t.querySelector(".profile__edit-button"),s=t.querySelector(".profile__add-button"),l=t.querySelector(".profile__avatar"),f={url:"https://mesto.nomoreparties.co/v1/cohort-43/",headers:{"Content-type":"application/json",authorization:"9ccf29bd-3d67-4cc8-8c99-82c18d019a44"}};function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(){function e(t,n,r,o,i){var a=this,c=o.handleCardDelete,u=o.delLike,s=o.addLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"_getTemplate",(function(){return document.querySelector(a._selector).content.cloneNode(!0)})),d(this,"_deleteImage",(function(){a._handleCardDelete(a._card)})),d(this,"_addEvents",(function(){a._card.owner._id==a._myId?a._cardRemove.addEventListener("click",a._deleteImage):(a._cardRemove.remove(),a._cardRemove=null),a._cardLike.addEventListener("click",(function(){a._like?a._delLike(a._card._id):a._addLike(a._card._id)})),a._cardImage.addEventListener("click",(function(){a._handleCardClick(a._card.name,a._card.link)}))})),d(this,"_checkLikes",(function(){a._card.likes.length>0&&a._card.likes.find((function(e){return e._id==a._myId}))?(a._cardLike.classList.add("card__like_active"),a._like=!0):a._like=!1})),d(this,"_addLikeCounter",(function(e){a._likeNumber.textContent=e})),d(this,"updateLikes",(function(e){a._card.likes=e,a._checkLikes(),a._addLikeCounter(a._card.likes.length)})),this._card=t,this._selector=n,this._handleCardClick=r,this._handleCardDelete=c,this._delLike=u,this._addLike=s,this._myId=i,this._like=!1}var t,n;return t=e,(n=[{key:"delCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"toggleLikeIcon",value:function(){this._cardLike.classList.toggle("card__like_active")}},{key:"makeCard",value:function(){return this._cardTemplate=this._getTemplate(),this._cardElement=this._cardTemplate.querySelector(".card"),this._cardImage=this._cardTemplate.querySelector(".card__image"),this._cardName=this._cardTemplate.querySelector(".card__name"),this._cardRemove=this._cardTemplate.querySelector(".card__remove"),this._cardLike=this._cardTemplate.querySelector(".card__like"),this._likeNumber=this._cardTemplate.querySelector(".card__like-count"),this._checkLikes(),this._addLikeCounter(this._card.likes.length),this._cardImage.setAttribute("src",this._card.link),this._cardImage.setAttribute("alt","Фото из галереи: "+this._card.name),this._cardName.textContent=this._card.name,this._addEvents(),this._cardTemplate}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this.clear(),this._items.forEach((function(t){return e._renderer(t)}))}},{key:"prepends",value:function(e){this._container.prepend(e)}},{key:"appends",value:function(e){this._container.append(e)}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=b((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"_setEventListeners",(function(){r._toggleButtonState(),r._inputArray.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))}))})),m(this,"enableValidation",(function(){r._setEventListeners()})),m(this,"_showInputError",(function(e,t){var n=r._form.querySelector(".".concat(e.id,"-error"));e.classList.add(r._inputError),n.classList.add(r._activeError),n.textContent=t})),m(this,"_hideInputError",(function(e){var t=r._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(r._inputError),t.classList.remove(r._activeError),t.textContent=""})),m(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),m(this,"_hasInvalidInput",(function(){return r._inputArray.some((function(e){return!e.validity.valid}))})),m(this,"_toggleButtonState",(function(){r._hasInvalidInput()?(r._saveButton.classList.add(r._popupDisableButton),r._saveButton.setAttribute("disabled","disabled")):(r._saveButton.classList.remove(r._popupDisableButton),r._saveButton.removeAttribute("disabled"))})),m(this,"resetValidation",(function(){r._toggleButtonState(),r._inputArray.forEach((function(e){r._hideInputError(e)}))})),this._activeForm=t.activeForm,this._formInput=t.formInput,this._popupSaveButton=t.popupSaveButton,this._popupDisableButton=t.popupDisableButton,this._inputError=t.inputError,this._activeError=t.activeError,this._form=n,this._inputArray=Array.from(this._form.querySelectorAll(this._formInput)),this._saveButton=this._form.querySelector(this._popupSaveButton)}));function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_active"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_active"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",this._closeListener=function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close"))&&e.close()})}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function L(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},j.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(n);if(r){var o=C(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return L(this,e)});function i(e){var t,n,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),c=function(e,r){n._bigImage.setAttribute("src",r),n._bigImage.setAttribute("alt","Увеличенное фото из галереи: "+e),n._bigImageCaption.textContent=e,j((t=S(n),C(i.prototype)),"open",t).call(t)},(a="open")in(r=S(n=o.call(this,e)))?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r.open=c,n._bigImage=n._popup.querySelector(".popup__image"),n._bigImageCaption=n._popup.querySelector(".popup__image-caption"),n}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(w);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function D(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return D(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._popup.querySelector(".popup__inputs"),n._inputArray=n._popup.querySelectorAll(".popup__input"),n._getDataFromApi=t,n._saveButton=n._popup.querySelector(".popup__save"),n._initialText=n._saveButton.textContent,n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputArray.forEach((function(t){e[t.name]=t.value})),e}},{key:"renderInitialText",value:function(){this._saveButton.textContent=this._initialText}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._saveButton.textContent="Сохранение...",e._getDataFromApi(e._getInputValues())})),B(A(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){B(A(a.prototype),"close",this).call(this),this._form.reset()}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(w);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t){var n=t.name,r=t.about;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about}}])&&N(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=f}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Bug detected! ".concat(e.status))}},{key:"getData",value:function(e){return fetch(this._config.url+e,{headers:this._config.headers}).then(this._checkResponse)}},{key:"delLike",value:function(e){return fetch(this._config.url+e,{headers:this._config.headers,method:"DELETE"}).then(this._checkResponse)}},{key:"addLike",value:function(e){return fetch(this._config.url+e,{headers:this._config.headers,method:"PUT"}).then(this._checkResponse)}},{key:"setCard",value:function(e,t){return fetch(this._config.url+e,{headers:this._config.headers,method:"POST",body:JSON.stringify(t)}).then(this._checkResponse)}},{key:"delCard",value:function(e,t){return fetch(this._config.url+e+t,{headers:this._config.headers,method:"DELETE"}).then(this._checkResponse)}},{key:"setProfile",value:function(e,t){return fetch(this._config.url+e,{headers:this._config.headers,method:"PATCH",body:JSON.stringify(t)}).then(this._checkResponse)}}])&&F(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=z(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Y.apply(this,arguments)}function z(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}function K(e,t){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(e,t)}function Q(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return W(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(r);if(o){var n=X(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Q(this,e)});function a(){var e;J(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Z(W(e=i.call.apply(i,[this].concat(n))),"setSubmitAction",(function(t){e._pressYess=t})),e}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__ok").addEventListener("click",(function(t){t.preventDefault(),e._pressYess()})),Y(X(a.prototype),"setEventListeners",this).call(this)}}])&&M(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(w),ee=new I(".popup_big-image");ee.setEventListeners();var te=new $(".popup_question");te.setEventListeners();var ne=new U({name:".profile__name",about:".profile__description"}),re=new G("9ccf29bd-3d67-4cc8-8c99-82c18d019a44");re.getData("users/me").then((function(e){window.myId=e._id,se(e.avatar),ne.setUserInfo(e),re.getData("cards").then((function(e){window.addGalary=new y({items:e,renderer:function(e){var t=oe(e,myId);addGalary.appends(t)}},".photos"),addGalary.renderItems()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));var oe=function(e,t){var n=new h(e,".template-card",ue,{handleCardDelete:function(e){te.open(),te.setSubmitAction((function(){re.delCard("cards/",e._id).then((function(){n.delCard(),te.close()})).catch((function(e){console.log(e)}))}))},delLike:function(e){re.delLike("cards/".concat(e,"/likes")).then((function(e){n.updateLikes(e.likes),n.toggleLikeIcon()})).catch((function(e){console.log(e)}))},addLike:function(e){re.addLike("cards/".concat(e,"/likes")).then((function(e){n.toggleLikeIcon(),n.updateLikes(e.likes)})).catch((function(e){console.log(e)}))}},t);return n.makeCard()},ie=new V(".popup_adder",(function(e){re.setCard("cards",e).then((function(e){var t=oe(e,e.owner._id);addGalary.prepends(t),ie.close()})).catch((function(e){console.log(e)})).finally((function(){ie.renderInitialText()}))}));ie.setEventListeners();var ae=new V(".popup_editor",(function(e){re.setProfile("users/me",e).then((function(e){ne.setUserInfo(e),ae.close()})).catch((function(e){console.log(e)})).finally((function(){ae.renderInitialText()}))}));ae.setEventListeners();var ce=new V(".popup_avatar",(function(e){re.setProfile("users/me/avatar",e).then((function(e){se(e.avatar),ce.close()})).catch((function(e){console.log(e)})).finally((function(){ce.renderInitialText()}))}));ce.setEventListeners();var ue=function(e,t){ee.open(e,t)},se=function(e){i.setAttribute("src",e)},le=new g(e,n);le.enableValidation();var fe=new g(e,r);fe.enableValidation();var pe=new g(e,o);pe.enableValidation(),s.addEventListener("click",(function(){ie.open(),fe.resetValidation()})),l.addEventListener("click",(function(){ce.open(),pe.resetValidation()})),u.addEventListener("click",(function(){ae.open();var e=ne.getUserInfo();a.value=e.name,c.value=e.about,le.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRva2VuID0gJzljY2YyOWJkLTNkNjctNGNjOC04Yzk5LTgyYzE4ZDAxOWE0NCc7XG5cbmNvbnN0IHVzZXJQcm9maWxlID0gW1xuICB7XG4gICAgbmFtZTogJy5wcm9maWxlX19uYW1lJyxcbiAgICBkZXNjcmlwdDogJy5wcm9maWxlX19kZXNjcmlwdGlvbidcbiAgfVxuXTtcblxuY29uc3QgdmFsaWRhdGlvbkxpc3QgPSB7XG4gIGFjdGl2ZUZvcm06ICcucG9wdXBfX2lucHV0cycsXG4gIGZvcm1JbnB1dDogJy5wb3B1cF9faW5wdXQnLFxuICBwb3B1cFNhdmVCdXR0b246ICcucG9wdXBfX3NhdmUnLFxuICBwb3B1cERpc2FibGVCdXR0b246ICdwb3B1cF9fc2F2ZV9kaXNhYmxlJyxcbiAgaW5wdXRFcnJvcjogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgYWN0aXZlRXJyb3I6ICdwb3B1cF9faW5wdXRfZXJyb3JfYWN0aXZlJ1xufTtcblxuY29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5Jyk7XG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LmZvcm1zLnByb2ZpbGU7XG5jb25zdCBjYXJkRm9ybSA9IGRvY3VtZW50LmZvcm1zLmFkZEltYWdlO1xuY29uc3QgYXZhdGFyRm9ybSA9IGRvY3VtZW50LmZvcm1zLmFkZEF2YXRhcjtcbmNvbnN0IGF2YXRhckltYWdlID0gbWFpbi5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyLWltYWdlJyk7XG5cbmNvbnN0IHByb2ZpbGVEZXNjcmliZSA9IHtcbiAgbmFtZTogJy5wcm9maWxlX19uYW1lJyxcbiAgYWJvdXQ6ICcucHJvZmlsZV9fZGVzY3JpcHRpb24nXG59O1xuY29uc3QgaW5wdXROYW1lID0gcHJvZmlsZUZvcm0uZWxlbWVudHMubmFtZTtcbmNvbnN0IGlucHV0bkRlc2NyaXB0ID0gcHJvZmlsZUZvcm0uZWxlbWVudHMuYWJvdXQ7XG5cblxuLy8tLS0tLWJ1dHRvbnMtLS0tLS0tXG5jb25zdCBwcm9maWxlT3BlbkJ1dHRvbiA9IG1haW4ucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBjYXJkQWRkQnV0dG9uID0gbWFpbi5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuY29uc3QgYXZhdGFyQ2hhbmdlQnV0dG9uID0gbWFpbi5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5cbi8vLy0tLS0tLUZvciBBUEkgcmVxdWVzdC0tLS0tLVxuY29uc3QgY29uZmlnPXtcbiAgJ3VybCc6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzLycsXG4gICdoZWFkZXJzJzoge1xuICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgJ2F1dGhvcml6YXRpb24nOiAnOWNjZjI5YmQtM2Q2Ny00Y2M4LThjOTktODJjMThkMDE5YTQ0J1xuICB9XG59XG5cbmV4cG9ydCB7XG4gIHRva2VuLCBtYWluLCBwcm9maWxlRm9ybSwgY2FyZEZvcm0sXG4gIHZhbGlkYXRpb25MaXN0LCBhdmF0YXJJbWFnZSwgYXZhdGFyRm9ybSxcbiAgcHJvZmlsZURlc2NyaWJlLCBpbnB1dE5hbWUsIGlucHV0bkRlc2NyaXB0LFxuICBwcm9maWxlT3BlbkJ1dHRvbiwgY2FyZEFkZEJ1dHRvbiwgYXZhdGFyQ2hhbmdlQnV0dG9uLFxuICBjb25maWdcbn07IiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICAgIGNvbnN0cnVjdG9yKGl0ZW0sIHNlbGVjdG9yVGVtcGxhdGUsIGhhbmRsZUNhcmRDbGljaywgeyBoYW5kbGVDYXJkRGVsZXRlLCBkZWxMaWtlLCBhZGRMaWtlIH0sIG15SWQpIHtcbiAgICAgICAgdGhpcy5fY2FyZCA9IGl0ZW07XG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3JUZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlQ2FyZERlbGV0ZTtcbiAgICAgICAgdGhpcy5fZGVsTGlrZSA9IGRlbExpa2U7XG4gICAgICAgIHRoaXMuX2FkZExpa2UgPSBhZGRMaWtlO1xuICAgICAgICB0aGlzLl9teUlkID0gbXlJZDtcbiAgICAgICAgdGhpcy5fbGlrZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9nZXRUZW1wbGF0ZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9yKVxuICAgICAgICAgICAgLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICByZXR1cm4gY2FyZFRlbXBsYXRlO1xuICAgIH1cblxuICAgIF9kZWxldGVJbWFnZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSh0aGlzLl9jYXJkKTtcbiAgICB9XG4gICAgZGVsQ2FyZCgpIHtcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcblxuICAgIH1cblxuICAgIF9hZGRFdmVudHMgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9jYXJkLm93bmVyLl9pZCA9PSB0aGlzLl9teUlkKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZGVsZXRlSW1hZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2FyZFJlbW92ZS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRSZW1vdmUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2FyZExpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGlrZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbExpa2UodGhpcy5fY2FyZC5faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkTGlrZSh0aGlzLl9jYXJkLl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fY2FyZC5uYW1lLCB0aGlzLl9jYXJkLmxpbmspO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0b2dnbGVMaWtlSWNvbigpIHtcbiAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcbiAgICB9XG5cbiAgICAvLy8vLS0tLS1GdW5jdGlvbiBmb3IgY2hlY2tpbmcgbGlrZXMgICAgLS0tLS0tLy8vLy8vL1xuICAgIF9jaGVja0xpa2VzID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5fY2FyZC5saWtlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBpc0xpa2UgPSB0aGlzLl9jYXJkLmxpa2VzLmZpbmQoaXRlbSA9PiBpdGVtLl9pZCA9PSB0aGlzLl9teUlkKTtcbiAgICAgICAgICAgIGlmIChpc0xpa2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QuYWRkKCdjYXJkX19saWtlX2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpa2UgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saWtlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9saWtlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZExpa2VDb3VudGVyID0gKGNvdW50ZXIpID0+IHtcbiAgICAgICAgdGhpcy5fbGlrZU51bWJlci50ZXh0Q29udGVudCA9IGNvdW50ZXI7XG4gICAgfTtcblxuICAgIHVwZGF0ZUxpa2VzID0gKGxpa2VzKSA9PiB7XG4gICAgICAgIHRoaXMuX2NhcmQubGlrZXMgPSBsaWtlcztcbiAgICAgICAgdGhpcy5fY2hlY2tMaWtlcygpO1xuICAgICAgICB0aGlzLl9hZGRMaWtlQ291bnRlcih0aGlzLl9jYXJkLmxpa2VzLmxlbmd0aClcbiAgICB9XG5cbiAgICBtYWtlQ2FyZCgpIHtcbiAgICAgICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNhcmQnKTtcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWFnZScpO1xuICAgICAgICB0aGlzLl9jYXJkTmFtZSA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbmFtZScpO1xuICAgICAgICB0aGlzLl9jYXJkUmVtb3ZlID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19yZW1vdmUnKTtcbiAgICAgICAgdGhpcy5fY2FyZExpa2UgPSB0aGlzLl9jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UnKTtcbiAgICAgICAgdGhpcy5fbGlrZU51bWJlciA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1jb3VudCcpO1xuICAgICAgICB0aGlzLl9jaGVja0xpa2VzKCk7XG4gICAgICAgIHRoaXMuX2FkZExpa2VDb3VudGVyKHRoaXMuX2NhcmQubGlrZXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5fY2FyZC5saW5rKTtcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgJ9Ck0L7RgtC+INC40Lcg0LPQsNC70LXRgNC10Lg6ICcgKyB0aGlzLl9jYXJkLm5hbWUpO1xuICAgICAgICB0aGlzLl9jYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX2NhcmQubmFtZTtcbiAgICAgICAgdGhpcy5fYWRkRXZlbnRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkVGVtcGxhdGU7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIH1cblxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSlcbiAgfVxuXG5cbiAgcHJlcGVuZHMoaXRlbUh0bWwpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtSHRtbClcbiAgfVxuICBhcHBlbmRzKGl0ZW1IdG1sKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChpdGVtSHRtbClcbiAgfVxufVxuXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gICAgY29uc3RydWN0b3IobGlzdCwgZm9ybUFjdGl2ZSkge1xuICAgICAgICB0aGlzLl9hY3RpdmVGb3JtID0gbGlzdC5hY3RpdmVGb3JtO1xuICAgICAgICB0aGlzLl9mb3JtSW5wdXQgPSBsaXN0LmZvcm1JbnB1dDtcbiAgICAgICAgdGhpcy5fcG9wdXBTYXZlQnV0dG9uID0gbGlzdC5wb3B1cFNhdmVCdXR0b247XG4gICAgICAgIHRoaXMuX3BvcHVwRGlzYWJsZUJ1dHRvbiA9IGxpc3QucG9wdXBEaXNhYmxlQnV0dG9uO1xuICAgICAgICB0aGlzLl9pbnB1dEVycm9yID0gbGlzdC5pbnB1dEVycm9yO1xuICAgICAgICB0aGlzLl9hY3RpdmVFcnJvciA9IGxpc3QuYWN0aXZlRXJyb3I7XG4gICAgICAgIHRoaXMuX2Zvcm0gPSBmb3JtQWN0aXZlO1xuICAgICAgICB0aGlzLl9pbnB1dEFycmF5ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZm9ybUlucHV0KSk7XG4gICAgICAgIHRoaXMuX3NhdmVCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fcG9wdXBTYXZlQnV0dG9uKTtcbiAgICB9XG5cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHRoaXMuX2lucHV0QXJyYXkuZm9yRWFjaCgoaW5wdXRzKSA9PiB7XG4gICAgICAgICAgICBpbnB1dHMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0cyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIH07XG5cbiAgICBfc2hvd0lucHV0RXJyb3IgPSAodmFsaWRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3JJbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke3ZhbGlkRWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICAgICAgdmFsaWRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvcik7XG4gICAgICAgIGVycm9ySW5FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fYWN0aXZlRXJyb3IpO1xuICAgICAgICBlcnJvckluRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICB9XG5cbiAgICBfaGlkZUlucHV0RXJyb3IgPSAodmFsaWRFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9ySW5FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHt2YWxpZEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIHZhbGlkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3IpO1xuICAgICAgICBlcnJvckluRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2FjdGl2ZUVycm9yKTtcbiAgICAgICAgZXJyb3JJbkVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgICB9XG5cbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKHZhbGlkRWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAoIXZhbGlkRWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IodmFsaWRFbGVtZW50LCB2YWxpZEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgdGhpcy5faGlkZUlucHV0RXJyb3IodmFsaWRFbGVtZW50KTtcbiAgICB9XG5cbiAgICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRBcnJheS5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3BvcHVwRGlzYWJsZUJ1dHRvbik7XG4gICAgICAgICAgICB0aGlzLl9zYXZlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NhdmVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9wb3B1cERpc2FibGVCdXR0b24pO1xuICAgICAgICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldFZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHRoaXMuX2lucHV0QXJyYXkuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9hY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlTGlzdGVuZXIgPSAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xuICAgICAgICB0aGlzLl9iaWdJbWFnZUNhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLWNhcHRpb24nKTtcbiAgICB9XG5cbiAgICBvcGVuID0gKG5hbWUsIGxpbmspID0+IHtcbiAgICAgICAgdGhpcy5fYmlnSW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBsaW5rKTtcbiAgICAgICAgdGhpcy5fYmlnSW1hZ2Uuc2V0QXR0cmlidXRlKCdhbHQnLCAn0KPQstC10LvQuNGH0LXQvdC90L7QtSDRhNC+0YLQviDQuNC3INCz0LDQu9C10YDQtdC4OiAnICsgbmFtZSk7XG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIGdldERhdGFGcm9tQXBpKSB7XG4gICAgICAgIHN1cGVyKHNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRzJyk7XG4gICAgICAgIHRoaXMuX2lucHV0QXJyYXkgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XG4gICAgICAgIHRoaXMuX2dldERhdGFGcm9tQXBpID0gZ2V0RGF0YUZyb21BcGk7XG4gICAgICAgIHRoaXMuX3NhdmVCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUnKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbFRleHQgPSB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50O1xuICAgIH1cblxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgbmV3VmFsdWVzID0ge307XG4gICAgICAgIHRoaXMuX2lucHV0QXJyYXkuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgICAgICAgIG5ld1ZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlcztcbiAgICB9XG5cbiAgICByZW5kZXJJbml0aWFsVGV4dCgpIHtcbiAgICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2luaXRpYWxUZXh0O1xuICAgIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XG4gICAgICAgICAgICB0aGlzLl9nZXREYXRhRnJvbUFwaSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGFib3V0IH0pIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZSk7XG4gICAgICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhYm91dCk7XG4gICAgfVxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICBjb25zdCBnZXRJbmZvID0ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcbiAgICAgICAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZ2V0SW5mbztcbiAgICB9XG5cbiAgICBzZXRVc2VySW5mbyhuZXdJbnB1dHMpIHtcbiAgICAgICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5ld0lucHV0cy5uYW1lO1xuICAgICAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IG5ld0lucHV0cy5hYm91dDtcbiAgICB9XG59IiwiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcIi4uL3V0aWxscy9jb25zdGFudHMuanNcIjtcblxuZXhwb3J0IGNsYXNzIEFwaSB7XG4gICAgY29uc3RydWN0b3IodG9rZW4pIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIH1cblxuICAgIF9jaGVja1Jlc3BvbnNlKHJlcykge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEJ1ZyBkZXRlY3RlZCEgJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cblxuICAgIGdldERhdGEoZm9yVXJsKSB7XG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9jb25maWcudXJsK2ZvclVybCwgeyBcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2NvbmZpZy5oZWFkZXJzIFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSApO1xuICAgIH1cblxuXG4gICAgZGVsTGlrZShmb3JVcmwpe1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fY29uZmlnLnVybCtmb3JVcmwsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2NvbmZpZy5oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xuICAgICAgICB9KVxuICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlICk7XG4gICAgfSBcblxuICAgIGFkZExpa2UoZm9yVXJsKXtcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX2NvbmZpZy51cmwrZm9yVXJsLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9jb25maWcuaGVhZGVycyAsXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UgKTtcbiAgICB9IFxuXG4gICAgc2V0Q2FyZChmb3JVcmwsc2V0dGluZ3Mpe1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fY29uZmlnLnVybCtmb3JVcmwsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2NvbmZpZy5oZWFkZXJzICxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlICk7XG4gICAgfVxuXG4gICAgZGVsQ2FyZChmb3JVcmwsY2FyZElkKXtcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX2NvbmZpZy51cmwrZm9yVXJsK2NhcmRJZCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5fY29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UgKTtcbiAgICB9XG5cbiAgICBzZXRQcm9maWxlKGZvclVybCxkYXRhKXtcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX2NvbmZpZy51cmwrZm9yVXJsLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9jb25maWcuaGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9KVxuICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlICk7XG4gICAgfVxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcblxuICAgIHNldFN1Ym1pdEFjdGlvbiA9IChhY3Rpb24pID0+IHtcbiAgICAgICAgdGhpcy5fcHJlc3NZZXNzID0gYWN0aW9uO1xuICAgIH1cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19vaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLl9wcmVzc1llc3MoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxufSIsImltcG9ydCB7XG4gIHRva2VuLCBtYWluLCBwcm9maWxlRm9ybSwgY2FyZEZvcm0sXG4gIHZhbGlkYXRpb25MaXN0LCBhdmF0YXJJbWFnZSwgYXZhdGFyRm9ybSxcbiAgcHJvZmlsZURlc2NyaWJlLCBpbnB1dE5hbWUsIGlucHV0bkRlc2NyaXB0LFxuICBwcm9maWxlT3BlbkJ1dHRvbiwgY2FyZEFkZEJ1dHRvbiwgYXZhdGFyQ2hhbmdlQnV0dG9uXG59IGZyb20gXCIuLi91dGlsbHMvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IHsgUG9wdXBDb25maXJtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBDb25maXJtXCI7XG5cblxuLy89PT09PT09Y2xhc3NlcyBhbmQgY2FsbGJhY2tzPT09PT09PT09XG5cbmNvbnN0IGJpZ0ltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfYmlnLWltYWdlJyk7XG5iaWdJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjb25maXJtUG9wdXAgPSBuZXcgUG9wdXBDb25maXJtKCcucG9wdXBfcXVlc3Rpb24nKTtcbmNvbmZpcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlRGVzY3JpYmUpO1xuXG4vLy8vLy8vLy8tLWdldHRpbmcgdXNlciBpbmZvICYgY2FyZHMgZnJvbSBzZXJ2ZXItLS8vLy8vLy8vXG5jb25zdCBhcGkgPSBuZXcgQXBpKHRva2VuKTtcbmFwaS5nZXREYXRhKCd1c2Vycy9tZScpXG4gIC50aGVuKCh1c2Vyc0luZm8pID0+IHtcbiAgICB3aW5kb3cubXlJZCA9IHVzZXJzSW5mby5faWQ7XG4gICAgc2V0QXZhdGFyKHVzZXJzSW5mby5hdmF0YXIpO1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJzSW5mbyk7XG4gICAgYXBpLmdldERhdGEoJ2NhcmRzJylcbiAgICAgIC50aGVuKChkYkNhcmRzKSA9PiB7XG4gICAgICAgIHdpbmRvdy5hZGRHYWxhcnkgPSBuZXcgU2VjdGlvbih7XG4gICAgICAgICAgaXRlbXM6IGRiQ2FyZHMsXG4gICAgICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXR1cm5DYXJkID0gYWRkTmV3Q2FyZChpdGVtLCBteUlkKTtcbiAgICAgICAgICAgIGFkZEdhbGFyeS5hcHBlbmRzKHJldHVybkNhcmQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgXCIucGhvdG9zXCIpO1xuICAgICAgICBhZGRHYWxhcnkucmVuZGVySXRlbXMoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cblxuLy8vLy8vLy8vLS0tLS0gTWFraW5nIGV2ZXJ5IGNhcmQgLS0tLS0tLS8vLy8vLy8vXG5jb25zdCBhZGROZXdDYXJkID0gKGRlc2NyaWJlLCBteUlkKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBkZXNjcmliZSwgJy50ZW1wbGF0ZS1jYXJkJywgaGFuZGxlQ2FyZENsaWNrLFxuICAgIHtcbiAgICAgIGhhbmRsZUNhcmREZWxldGU6IChjYXJkVG9EZWwpID0+IHtcbiAgICAgICAgY29uZmlybVBvcHVwLm9wZW4oKTtcbiAgICAgICAgY29uZmlybVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XG4gICAgICAgICAgYXBpLmRlbENhcmQoJ2NhcmRzLycsIGNhcmRUb0RlbC5faWQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGNhcmQuZGVsQ2FyZCgpO1xuICAgICAgICAgICAgICBjb25maXJtUG9wdXAuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGRlbExpa2U6IChjYXJkSWQpID0+IHtcbiAgICAgICAgYXBpLmRlbExpa2UoYGNhcmRzLyR7Y2FyZElkfS9saWtlc2ApXG4gICAgICAgICAgLnRoZW4oKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNhcmQudXBkYXRlTGlrZXMoaXRlbS5saWtlcyk7XG4gICAgICAgICAgICBjYXJkLnRvZ2dsZUxpa2VJY29uKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBhZGRMaWtlOiAoY2FyZElkKSA9PiB7XG4gICAgICAgIGFwaS5hZGRMaWtlKGBjYXJkcy8ke2NhcmRJZH0vbGlrZXNgKVxuICAgICAgICAgIC50aGVuKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBjYXJkLnRvZ2dsZUxpa2VJY29uKCk7XG4gICAgICAgICAgICBjYXJkLnVwZGF0ZUxpa2VzKGl0ZW0ubGlrZXMpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBteUlkKTtcbiAgY29uc3QgbmV3UmV0dXJuQ2FyZCA9IGNhcmQubWFrZUNhcmQoKTtcbiAgcmV0dXJuIG5ld1JldHVybkNhcmQ7XG59XG5cblxuLy8vLy8vLy8vLS0tLS0gUG9wdXAgZm9ybXMgY3JlYXRpbmcgLS0tLS0tLS8vLy8vLy8vXG5jb25zdCBwb3B1cENhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gICcucG9wdXBfYWRkZXInLFxuICAobmFtZUFuZExpbmspID0+IHtcbiAgICBhcGkuc2V0Q2FyZCgnY2FyZHMnLCBuYW1lQW5kTGluaylcbiAgICAgIC50aGVuKChjYXJkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJldHVybkNhcmQgPSBhZGROZXdDYXJkKGNhcmQsIGNhcmQub3duZXIuX2lkKTtcbiAgICAgICAgYWRkR2FsYXJ5LnByZXBlbmRzKHJldHVybkNhcmQpO1xuICAgICAgICBwb3B1cENhcmRGb3JtLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwQ2FyZEZvcm0ucmVuZGVySW5pdGlhbFRleHQoKTtcbiAgICAgIH0pO1xuICB9XG4pO1xucG9wdXBDYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgJy5wb3B1cF9lZGl0b3InLFxuICAobmV3SW5wdXRzKSA9PiB7XG4gICAgYXBpLnNldFByb2ZpbGUoJ3VzZXJzL21lJywgbmV3SW5wdXRzKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XG4gICAgICAgIHBvcHVwUHJvZmlsZS5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwb3B1cFByb2ZpbGUucmVuZGVySW5pdGlhbFRleHQoKTtcbiAgICAgIH0pO1xuICB9XG4pO1xucG9wdXBQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gICcucG9wdXBfYXZhdGFyJyxcbiAgKGdldEF2YXRhcikgPT4ge1xuICAgIGFwaS5zZXRQcm9maWxlKCd1c2Vycy9tZS9hdmF0YXInLCBnZXRBdmF0YXIpXG4gICAgICAudGhlbigoYXZhKSA9PiB7XG4gICAgICAgIHNldEF2YXRhcihhdmEuYXZhdGFyKTtcbiAgICAgICAgcG9wdXBBdmF0YXIuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBBdmF0YXIucmVuZGVySW5pdGlhbFRleHQoKTtcbiAgICAgIH0pO1xuICB9XG4pO1xucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG4vLz09PT09PT1mdW5jdGlvbnM9PT09PT09PT1cbmNvbnN0IGhhbmRsZUNhcmRDbGljayA9IChjYXJkTmFtZSwgY2FyZExpbmspID0+IHtcbiAgYmlnSW1hZ2Uub3BlbihjYXJkTmFtZSwgY2FyZExpbmspO1xufVxuXG5jb25zdCBzZXRBdmF0YXIgPSAoYXZhdGFyTGluaykgPT4ge1xuICBhdmF0YXJJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGF2YXRhckxpbmspO1xufVxuXG4vLy0tLS0tLS0tZW5hYmxlIHZhbGlkYXRpb24tLS0tLS0tLS0tXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkxpc3QsIHByb2ZpbGVGb3JtKTtcbnByb2ZpbGVGb3JtVmFsaWRhdGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkxpc3QsIGNhcmRGb3JtKTtcbmNhcmRGb3JtVmFsaWRhdGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uTGlzdCwgYXZhdGFyRm9ybSk7XG5hdmF0YXJGb3JtVmFsaWRhdGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5cbi8vPT09PT09PT09PWJ1dHRvbnMgbGlzdGVuZXJzPT09PT09PT09PT1cblxuY2FyZEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBDYXJkRm9ybS5vcGVuKCk7XG4gIGNhcmRGb3JtVmFsaWRhdGUucmVzZXRWYWxpZGF0aW9uKCk7XG59KVxuXG5hdmF0YXJDaGFuZ2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwQXZhdGFyLm9wZW4oKTtcbiAgYXZhdGFyRm9ybVZhbGlkYXRlLnJlc2V0VmFsaWRhdGlvbigpO1xufSlcblxucHJvZmlsZU9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XG4gIGNvbnN0IG9sZFByb2ZpbGUgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBpbnB1dE5hbWUudmFsdWUgPSBvbGRQcm9maWxlLm5hbWU7XG4gIGlucHV0bkRlc2NyaXB0LnZhbHVlID0gb2xkUHJvZmlsZS5hYm91dDtcbiAgcHJvZmlsZUZvcm1WYWxpZGF0ZS5yZXNldFZhbGlkYXRpb24oKTtcbn0pXG5cbiJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uTGlzdCIsImFjdGl2ZUZvcm0iLCJmb3JtSW5wdXQiLCJwb3B1cFNhdmVCdXR0b24iLCJwb3B1cERpc2FibGVCdXR0b24iLCJpbnB1dEVycm9yIiwiYWN0aXZlRXJyb3IiLCJtYWluIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZUZvcm0iLCJmb3JtcyIsInByb2ZpbGUiLCJjYXJkRm9ybSIsImFkZEltYWdlIiwiYXZhdGFyRm9ybSIsImFkZEF2YXRhciIsImF2YXRhckltYWdlIiwiaW5wdXROYW1lIiwiZWxlbWVudHMiLCJuYW1lIiwiaW5wdXRuRGVzY3JpcHQiLCJhYm91dCIsInByb2ZpbGVPcGVuQnV0dG9uIiwiY2FyZEFkZEJ1dHRvbiIsImF2YXRhckNoYW5nZUJ1dHRvbiIsImNvbmZpZyIsIkNhcmQiLCJpdGVtIiwic2VsZWN0b3JUZW1wbGF0ZSIsImhhbmRsZUNhcmRDbGljayIsIm15SWQiLCJoYW5kbGVDYXJkRGVsZXRlIiwiZGVsTGlrZSIsImFkZExpa2UiLCJfc2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2hhbmRsZUNhcmREZWxldGUiLCJfY2FyZCIsIm93bmVyIiwiX2lkIiwiX215SWQiLCJfY2FyZFJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfZGVsZXRlSW1hZ2UiLCJyZW1vdmUiLCJfY2FyZExpa2UiLCJfbGlrZSIsIl9kZWxMaWtlIiwiX2FkZExpa2UiLCJfY2FyZEltYWdlIiwiX2hhbmRsZUNhcmRDbGljayIsImxpbmsiLCJsaWtlcyIsImxlbmd0aCIsImZpbmQiLCJjbGFzc0xpc3QiLCJhZGQiLCJjb3VudGVyIiwiX2xpa2VOdW1iZXIiLCJ0ZXh0Q29udGVudCIsIl9jaGVja0xpa2VzIiwiX2FkZExpa2VDb3VudGVyIiwidGhpcyIsIl9jYXJkRWxlbWVudCIsInRvZ2dsZSIsIl9jYXJkVGVtcGxhdGUiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZE5hbWUiLCJzZXRBdHRyaWJ1dGUiLCJfYWRkRXZlbnRzIiwiU2VjdGlvbiIsInNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpbm5lckhUTUwiLCJjbGVhciIsImZvckVhY2giLCJpdGVtSHRtbCIsInByZXBlbmQiLCJhcHBlbmQiLCJGb3JtVmFsaWRhdG9yIiwibGlzdCIsImZvcm1BY3RpdmUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRBcnJheSIsImlucHV0cyIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ2YWxpZEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckluRWxlbWVudCIsIl9mb3JtIiwiaWQiLCJfaW5wdXRFcnJvciIsIl9hY3RpdmVFcnJvciIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiX3NhdmVCdXR0b24iLCJfcG9wdXBEaXNhYmxlQnV0dG9uIiwicmVtb3ZlQXR0cmlidXRlIiwiaW5wdXQiLCJfYWN0aXZlRm9ybSIsIl9mb3JtSW5wdXQiLCJfcG9wdXBTYXZlQnV0dG9uIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIlBvcHVwIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9jbG9zZUxpc3RlbmVyIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfYmlnSW1hZ2UiLCJfYmlnSW1hZ2VDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImdldERhdGFGcm9tQXBpIiwiX2dldERhdGFGcm9tQXBpIiwiX2luaXRpYWxUZXh0IiwibmV3VmFsdWVzIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJfbmFtZSIsIl9hYm91dCIsIm5ld0lucHV0cyIsIkFwaSIsInRva2VuIiwiX2NvbmZpZyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmb3JVcmwiLCJmZXRjaCIsInVybCIsImhlYWRlcnMiLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJtZXRob2QiLCJzZXR0aW5ncyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiZGF0YSIsIlBvcHVwQ29uZmlybSIsImFjdGlvbiIsIl9wcmVzc1llc3MiLCJiaWdJbWFnZSIsInNldEV2ZW50TGlzdGVuZXJzIiwiY29uZmlybVBvcHVwIiwidXNlckluZm8iLCJhcGkiLCJnZXREYXRhIiwidXNlcnNJbmZvIiwid2luZG93Iiwic2V0QXZhdGFyIiwiYXZhdGFyIiwic2V0VXNlckluZm8iLCJkYkNhcmRzIiwiYWRkR2FsYXJ5IiwicmV0dXJuQ2FyZCIsImFkZE5ld0NhcmQiLCJhcHBlbmRzIiwicmVuZGVySXRlbXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJkZXNjcmliZSIsImNhcmQiLCJjYXJkVG9EZWwiLCJvcGVuIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsQ2FyZCIsInVwZGF0ZUxpa2VzIiwidG9nZ2xlTGlrZUljb24iLCJtYWtlQ2FyZCIsInBvcHVwQ2FyZEZvcm0iLCJuYW1lQW5kTGluayIsInNldENhcmQiLCJwcmVwZW5kcyIsImZpbmFsbHkiLCJyZW5kZXJJbml0aWFsVGV4dCIsInBvcHVwUHJvZmlsZSIsInNldFByb2ZpbGUiLCJwb3B1cEF2YXRhciIsImdldEF2YXRhciIsImF2YSIsImNhcmROYW1lIiwiY2FyZExpbmsiLCJhdmF0YXJMaW5rIiwicHJvZmlsZUZvcm1WYWxpZGF0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJjYXJkRm9ybVZhbGlkYXRlIiwiYXZhdGFyRm9ybVZhbGlkYXRlIiwicmVzZXRWYWxpZGF0aW9uIiwib2xkUHJvZmlsZSIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==