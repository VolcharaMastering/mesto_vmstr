!function(){"use strict";var e={activeForm:".popup__inputs",formInput:".popup__input",popupSaveButton:".popup__save",popupDisableButton:"popup__save_disable",inputError:"popup__input_type_error",activeError:"popup__input_error_active"},t=document.querySelector(".gallery"),n=document.forms.profile,r=document.forms.addImage;function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){function e(t,n,r,o,c,a,u){var s=this,l=o.handleCardDelete;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_getTemplate",(function(){return document.querySelector(s._selector).content.cloneNode(!0)})),i(this,"_deleteImage",(function(e){s._handleCardDelete(s._cardId,e)})),i(this,"delCard",(function(e){s._cardTemplate=null,e.target.closest(".card").remove()})),i(this,"_addEvents",(function(){s._ownerId==myId?s._cardRemove.addEventListener("click",s._deleteImage):s._cardRemove.classList.remove("card__remove"),s._cardLike.addEventListener("click",(function(){s._like?(s._getLikes={},Object.assign(s._getLikes,s._delLike(s._cardId)),console.log("get likes= "+s._getLikes),s._addLikeCounter()):(s._addLike(s._cardId).then((function(e){return console.log("count="+e.length),newLikes})).catch((function(e){console.log(e)})),s._addLikeCounter()),s._cardLike.classList.toggle("card__like_active")})),s._cardImage.addEventListener("click",(function(){s._handleCardClick(s._newCardName,s._imageLink)}))})),i(this,"_checkLikes",(function(){s._getLikes.length>0&&null!=s._getLikes.find((function(e){return e._id==s._myId}))&&(s._cardLike.classList.add("card__like_active"),s._like=!0)})),i(this,"_addLikeCounter",(function(){s._likeNumber.textContent=s._getLikes.length})),this._newCardName=t.name,this._imageLink=t.link,this._getLikes=t.likes,this._cardId=t._id,this._ownerId=t.owner._id,this._selector=n,this._handleCardClick=r,this._handleCardDelete=l,this._delLike=c,this._addLike=a,this._myId=u,this._like=!1}var t,n;return t=e,(n=[{key:"makeCard",value:function(){return this._cardTemplate=this._getTemplate(),this._cardImage=this._cardTemplate.querySelector(".card__image"),this._cardName=this._cardTemplate.querySelector(".card__name"),this._cardRemove=this._cardTemplate.querySelector(".card__remove"),this._cardLike=this._cardTemplate.querySelector(".card__like"),this._likeNumber=this._cardTemplate.querySelector(".card__like-count"),this._checkLikes(),this._addLikeCounter(),this._cardImage.setAttribute("src",this._imageLink),this._cardImage.setAttribute("alt","Фото из галереи: "+this._newCardName),this._cardName.textContent=this._newCardName,this._addEvents(),this._cardTemplate}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this.clear(),this._items.forEach((function(t){return e._renderer(t)}))}},{key:"prepends",value:function(e){this._container.prepend(e)}},{key:"appends",value:function(e){this._container.append(e)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=l((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"_setEventListeners",(function(){r._toggleButtonState(),r._inputArray.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))}))})),f(this,"enableValidation",(function(){r._setEventListeners()})),f(this,"_showInputError",(function(e,t){var n=r._form.querySelector(".".concat(e.id,"-error"));e.classList.add(r._inputError),n.classList.add(r._activeError),n.textContent=t})),f(this,"_hideInputError",(function(e){var t=r._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(r._inputError),t.classList.remove(r._activeError),t.textContent=""})),f(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),f(this,"_hasInvalidInput",(function(){return r._inputArray.some((function(e){return!e.validity.valid}))})),f(this,"_toggleButtonState",(function(){r._hasInvalidInput()?(r._saveButton.classList.add(r._popupDisableButton),r._saveButton.setAttribute("disabled","disabled")):(r._saveButton.classList.remove(r._popupDisableButton),r._saveButton.removeAttribute("disabled"))})),f(this,"resetValidation",(function(){r._toggleButtonState(),r._inputArray.forEach((function(e){r._hideInputError(e)}))})),this._activeForm=t.activeForm,this._formInput=t.formInput,this._popupSaveButton=t.popupSaveButton,this._popupDisableButton=t.popupDisableButton,this._inputError=t.inputError,this._activeError=t.activeError,this._form=n,this._inputArray=Array.from(this._form.querySelectorAll(this._formInput)),this._saveButton=this._form.querySelector(this._popupSaveButton)}));function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(){document.addEventListener("keydown",o._escCloseListen=function(e){"Escape"===e.key&&o.close()})},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_active"),this._handleEscClose()}},{key:"close",value:function(){this._popup.classList.remove("popup_active"),document.removeEventListener("keydown",this._escCloseListen)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",this._closeListener=function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close"))&&e.close()})}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},m.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(n);if(r){var o=k(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return v(this,e)});function i(e){var t,n,r,c,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a=function(e,r){n._bigImage.setAttribute("src",r),n._bigImage.setAttribute("alt","Увеличенное фото из галереи: "+e),n._bigImageCaption.textContent=e,m((t=b(n),k(i.prototype)),"open",t).call(t)},(c="open")in(r=b(n=o.call(this,e)))?Object.defineProperty(r,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):r.open=a,n._bigImage=n._popup.querySelector(".popup__image"),n._bigImageCaption=n._popup.querySelector(".popup__image-caption"),n}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(_);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=j(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function S(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e))._form=n._popup.querySelector(".popup__inputs"),n._inputArray=n._popup.querySelectorAll(".popup__input"),n._getCardsFromApi=t,n}return t=c,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputArray.forEach((function(t){e[t.name]=t.value})),console.log(e),e}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._getCardsFromApi(e._getInputValues())})),O(P(c.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){O(P(c.prototype),"close",this).call(this),this._form.reset()}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(_);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t){var n=t.userName,r=t.description;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._description=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{userName:this._name.textContent,descript:this._description.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._description.textContent=e.description}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url="https://mesto.nomoreparties.co/v1/cohort-43/",this._token=t,this._headers={"Content-type":"application/json",authorization:"9ccf29bd-3d67-4cc8-8c99-82c18d019a44"}}var t,n;return t=e,(n=[{key:"getData",value:function(e){return fetch(this._url+e,{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Bug detected!")}))}},{key:"delLike",value:function(e){return fetch(this._url+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?(console.log("resULT"+e),e):Promise.reject("Bug detected!")}))}},{key:"addLike",value:function(e){return fetch(this._url+e,{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?(console.log("resULT"+e),e):Promise.reject("Bug detected!")}))}},{key:"setCard",value:function(e,t){return fetch(this._url+e,{headers:this._headers,method:"POST",body:JSON.stringify(t)}).then((function(e){return e.ok?e.json():Promise.reject("Bug detected!")}))}},{key:"delCard",value:function(e,t){return fetch(this._url+e+t,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Bug detected!")}))}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function x(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(n);if(r){var o=V(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return x(this,e)});function i(e){var t,n,r,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),c=function(e){t._pressYess=e,console.log("ACTION")},(r="setSubmitAction")in(n=N(t=o.call(this,e)))?Object.defineProperty(n,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[r]=c,t._pressYes=function(){},t}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(_),F=n.elements.name,G=n.elements.description,M=t.querySelector(".profile__edit-button"),Y=t.querySelector(".profile__add-button"),z=function(e,t){K.open(e,t)},H=function(e){return W.delLike("cards/".concat(e,"/likes")).then((function(e){return console.log("likes="+e.length),console.log("clikeArray="+e),e})).catch((function(e){console.log(e)}))},J=function(e){return W.addLike("cards/".concat(e,"/likes")).then((function(e){return console.log("likes="+e.length),console.log("clikeArray="+e),e})).catch((function(e){console.log(e)}))},K=new w(".popup_big-image");K.setEventListeners();var Q=new U(".popup_question");Q.setEventListeners();var W=new q("9ccf29bd-3d67-4cc8-8c99-82c18d019a44");W.getData("users/me").then((function(e){window.myId=e._id,W.getData("cards").then((function(e){window.addGalary=new u({items:e,renderer:function(e){var t=X(e,myId);addGalary.appends(t)}},".photos"),addGalary.renderItems()}))})).catch((function(e){console.log(e)}));var X=function(e,t){var n=new c(e,".template-card",z,{handleCardDelete:function(e,t){Q.open(),Q.setSubmitAction((function(){console.log("SUBMIT"),W.delCard("cards/",e).then((function(){n.delCard(t),Q.close()})).catch((function(e){console.log(e)}))}))}},H,J,t);return n.makeCard()},Z=new I(".popup_adder",(function(e){W.setCard("cards",e).then((function(e){var t=X(e,e.owner._id);addGalary.prepends(t),Z.close()})).catch((function(e){console.log(e)}))}));Z.setEventListeners();var $=new B({userName:".profile__name",description:".profile__description"}),ee=new I(".popup_editor",(function(e){$.setUserInfo(e),ee.close()}));ee.setEventListeners();var te=new p(e,n);te.enableValidation();var ne=new p(e,r);ne.enableValidation(),Y.addEventListener("click",(function(){Z.open(),ne.resetValidation()})),M.addEventListener("click",(function(){ee.open();var e=$.getUserInfo();F.value=e.userName,G.value=e.descript,te.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Qi9CLEVBQWM3SSxpQkFBaUIsU0FBUyxXQUN0Q21LLEVBQWNsQixPQUNkNEIsR0FBaUJDLHFCQUduQmxDLEVBQWtCNUksaUJBQWlCLFNBQVMsV0FDMUN5SyxHQUFheEIsT0FDYixJQUFNOEIsRUFBYVAsRUFBU1EsY0FDNUJ2QyxFQUFVbEMsTUFBUXdFLEVBQVduRSxTQUM3QitCLEVBQWVwQyxNQUFRd0UsRUFBVy9ELFNBQ2xDMkQsR0FBb0JHLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy92YXJpYWJsZXMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRva2VuPSc5Y2NmMjliZC0zZDY3LTRjYzgtOGM5OS04MmMxOGQwMTlhNDQnO1xyXG5cclxuY29uc3QgdXNlclByb2ZpbGUgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogJy5wcm9maWxlX19uYW1lJyxcclxuICAgIGRlc2NyaXB0OiAnLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJ1xyXG4gIH1cclxuXTtcclxuXHJcbmNvbnN0IHZhbGlkYXRpb25MaXN0ID0ge1xyXG4gIGFjdGl2ZUZvcm06ICcucG9wdXBfX2lucHV0cycsXHJcbiAgZm9ybUlucHV0OiAnLnBvcHVwX19pbnB1dCcsXHJcbiAgcG9wdXBTYXZlQnV0dG9uOiAnLnBvcHVwX19zYXZlJyxcclxuICBwb3B1cERpc2FibGVCdXR0b246ICdwb3B1cF9fc2F2ZV9kaXNhYmxlJyxcclxuICBpbnB1dEVycm9yOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gIGFjdGl2ZUVycm9yOiAncG9wdXBfX2lucHV0X2Vycm9yX2FjdGl2ZSdcclxufTtcclxuXHJcbmNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeScpO1xyXG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LmZvcm1zLnByb2ZpbGU7XHJcbmNvbnN0IGNhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXMuYWRkSW1hZ2U7XHJcblxyXG5leHBvcnQge3Rva2VuLCBtYWluLCBwcm9maWxlRm9ybSwgY2FyZEZvcm0sIHZhbGlkYXRpb25MaXN0fTsiLCJleHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihpdGVtLCBzZWxlY3RvclRlbXBsYXRlLCBoYW5kbGVDYXJkQ2xpY2ssIHtoYW5kbGVDYXJkRGVsZXRlfSwgZGVsTGlrZSwgYWRkTGlrZSwgbXlJZCkge1xyXG4gICAgICAgIHRoaXMuX25ld0NhcmROYW1lID0gaXRlbS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlTGluayA9IGl0ZW0ubGluaztcclxuICAgICAgICB0aGlzLl9nZXRMaWtlcyA9IGl0ZW0ubGlrZXM7XHJcbiAgICAgICAgdGhpcy5fY2FyZElkID0gaXRlbS5faWQ7XHJcbiAgICAgICAgdGhpcy5fb3duZXJJZCA9IGl0ZW0ub3duZXIuX2lkO1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3JUZW1wbGF0ZTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSA9IGhhbmRsZUNhcmREZWxldGU7XHJcbiAgICAgICAgdGhpcy5fZGVsTGlrZSA9IGRlbExpa2U7XHJcbiAgICAgICAgdGhpcy5fYWRkTGlrZSA9IGFkZExpa2U7XHJcbiAgICAgICAgdGhpcy5fbXlJZCA9IG15SWQ7XHJcbiAgICAgICAgdGhpcy5fbGlrZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRUZW1wbGF0ZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcilcclxuICAgICAgICAgICAgLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIHJldHVybiBjYXJkVGVtcGxhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgX2RlbGV0ZUltYWdlID0gKGV2dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUodGhpcy5fY2FyZElkLGV2dCk7XHJcbiAgICB9XHJcbiAgICBkZWxDYXJkPShldnQpPT57XHJcbiAgICBcclxuICAgICAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBudWxsO1xyXG4gICAgICAgIGV2dC50YXJnZXQuY2xvc2VzdCgnLmNhcmQnKS5yZW1vdmUoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgX2FkZEV2ZW50cyA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5fb3duZXJJZCA9PSBteUlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhcmRSZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9kZWxldGVJbWFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkUmVtb3ZlLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmRfX3JlbW92ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY2FyZExpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9saWtlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRMaWtlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9nZXRMaWtlcywgdGhpcy5fZGVsTGlrZSh0aGlzLl9jYXJkSWQpKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXQgbGlrZXM9ICcgKyB0aGlzLl9nZXRMaWtlcyk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLl9nZXRMaWtlcyA9IG5ld0xpa2VzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkTGlrZUNvdW50ZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZExpa2UodGhpcy5fY2FyZElkKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChsaWtlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY291bnQ9JyArIGxpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdMaWtlcztcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY291bnQ9JyArY291bnQpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5fZ2V0TGlrZXMgPSBuZXdMaWtlcztcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZExpa2VDb3VudGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uZXdDYXJkTmFtZSwgdGhpcy5faW1hZ2VMaW5rKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIF9jaGVja0xpa2VzID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9nZXRMaWtlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzTGlrZSA9IHRoaXMuX2dldExpa2VzLmZpbmQoaXRlbSA9PiBpdGVtLl9pZCA9PSB0aGlzLl9teUlkKTtcclxuICAgICAgICAgICAgaWYgKGlzTGlrZSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhcmRMaWtlLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2xpa2VfYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9saWtlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZGRMaWtlQ291bnRlciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9saWtlTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fZ2V0TGlrZXMubGVuZ3RoO1xyXG4gICAgfTtcclxuXHJcbiAgICBtYWtlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKTtcclxuICAgICAgICB0aGlzLl9jYXJkTmFtZSA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbmFtZScpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRSZW1vdmUgPSB0aGlzLl9jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNhcmRfX3JlbW92ZScpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRMaWtlID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlJyk7XHJcbiAgICAgICAgdGhpcy5fbGlrZU51bWJlciA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1jb3VudCcpO1xyXG4gICAgICAgIHRoaXMuX2NoZWNrTGlrZXMoKTtcclxuICAgICAgICB0aGlzLl9hZGRMaWtlQ291bnRlcigpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXMuX2ltYWdlTGluayk7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgJ9Ck0L7RgtC+INC40Lcg0LPQsNC70LXRgNC10Lg6ICcgKyB0aGlzLl9uZXdDYXJkTmFtZSk7XHJcbiAgICAgICAgdGhpcy5fY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9uZXdDYXJkTmFtZTtcclxuICAgICAgICB0aGlzLl9hZGRFdmVudHMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZFRlbXBsYXRlO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgfVxyXG5cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSlcclxuICB9XHJcblxyXG5cclxuICBwcmVwZW5kcyhpdGVtSHRtbCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbUh0bWwpXHJcbiAgfVxyXG4gIGFwcGVuZHMoaXRlbUh0bWwpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoaXRlbUh0bWwpXHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihsaXN0LCBmb3JtQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlRm9ybSA9IGxpc3QuYWN0aXZlRm9ybTtcclxuICAgICAgICB0aGlzLl9mb3JtSW5wdXQgPSBsaXN0LmZvcm1JbnB1dDtcclxuICAgICAgICB0aGlzLl9wb3B1cFNhdmVCdXR0b24gPSBsaXN0LnBvcHVwU2F2ZUJ1dHRvbjtcclxuICAgICAgICB0aGlzLl9wb3B1cERpc2FibGVCdXR0b24gPSBsaXN0LnBvcHVwRGlzYWJsZUJ1dHRvbjtcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yID0gbGlzdC5pbnB1dEVycm9yO1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZUVycm9yID0gbGlzdC5hY3RpdmVFcnJvcjtcclxuICAgICAgICB0aGlzLl9mb3JtID0gZm9ybUFjdGl2ZTtcclxuICAgICAgICB0aGlzLl9pbnB1dEFycmF5ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZm9ybUlucHV0KSk7XHJcbiAgICAgICAgdGhpcy5fc2F2ZUJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9wb3B1cFNhdmVCdXR0b24pO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0QXJyYXkuZm9yRWFjaCgoaW5wdXRzKSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0cy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IgPSAodmFsaWRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvckluRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7dmFsaWRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIHZhbGlkRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3IpO1xyXG4gICAgICAgIGVycm9ySW5FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fYWN0aXZlRXJyb3IpO1xyXG4gICAgICAgIGVycm9ySW5FbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIF9oaWRlSW5wdXRFcnJvciA9ICh2YWxpZEVsZW1lbnQpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvckluRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7dmFsaWRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIHZhbGlkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3IpO1xyXG4gICAgICAgIGVycm9ySW5FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fYWN0aXZlRXJyb3IpO1xyXG4gICAgICAgIGVycm9ySW5FbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9ICh2YWxpZEVsZW1lbnQpID0+IHtcclxuICAgICAgICBpZiAoIXZhbGlkRWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcih2YWxpZEVsZW1lbnQsIHZhbGlkRWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhpcy5faGlkZUlucHV0RXJyb3IodmFsaWRFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dEFycmF5LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NhdmVCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9wb3B1cERpc2FibGVCdXR0b24pO1xyXG4gICAgICAgICAgICB0aGlzLl9zYXZlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NhdmVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9wb3B1cERpc2FibGVCdXR0b24pO1xyXG4gICAgICAgICAgICB0aGlzLl9zYXZlQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRBcnJheS5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9hY3RpdmUnKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX2FjdGl2ZScpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9lc2NDbG9zZUxpc3Rlbik7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9lc2NDbG9zZUxpc3RlbiA9IChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlTGlzdGVuZXIgPSAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlQ2FwdGlvbj10aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlLWNhcHRpb24nKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuID0gKG5hbWUsIGxpbmspID0+IHtcclxuICAgICAgICB0aGlzLl9iaWdJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGxpbmspO1xyXG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlLnNldEF0dHJpYnV0ZSgnYWx0JywgJ9Cj0LLQtdC70LjRh9C10L3QvdC+0LUg0YTQvtGC0L4g0LjQtyDQs9Cw0LvQtdGA0LXQuDogJyArIG5hbWUpO1xyXG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yLCBnZXRDYXJkRnJvbUFwaSkge1xyXG4gICAgICAgIHN1cGVyKHNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dHMnKTtcclxuICAgICAgICB0aGlzLl9pbnB1dEFycmF5ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuX2dldENhcmRzRnJvbUFwaSA9IGdldENhcmRGcm9tQXBpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICBjb25zdCBuZXdWYWx1ZXMgPSB7fTtcclxuICAgICAgICB0aGlzLl9pbnB1dEFycmF5LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG5ld1ZhbHVlcylcclxuICAgICAgICByZXR1cm4gbmV3VmFsdWVzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5fZ2V0Q2FyZHNGcm9tQXBpKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IoeyB1c2VyTmFtZSwgZGVzY3JpcHRpb24gfSkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lKTtcclxuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb24pO1xyXG4gICAgfVxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgY29uc3QgZ2V0SW5mbyA9IHtcclxuICAgICAgICAgICAgdXNlck5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0OiB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGdldEluZm87XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8obmV3SW5wdXRzKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5ld0lucHV0cy5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gbmV3SW5wdXRzLmRlc2NyaXB0aW9uO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b2tlbikge1xyXG4gICAgICAgIHRoaXMuX3VybCA9ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQzLyc7XHJcbiAgICAgICAgdGhpcy5fdG9rZW4gPSB0b2tlbjtcclxuICAgICAgICAvLyB0aGlzLl9mb3JVcmw9Zm9yVXJsO1xyXG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSB7XHJcbiAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICdhdXRob3JpemF0aW9uJzogJzljY2YyOWJkLTNkNjctNGNjOC04Yzk5LTgyYzE4ZDAxOWE0NCdcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YShmb3JVcmwpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsK2ZvclVybCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQnVnIGRldGVjdGVkIScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZGVsTGlrZShmb3JVcmwpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwrZm9yVXJsLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURSdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc1VMVCcgK3Jlcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQnVnIGRldGVjdGVkIScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBcclxuXHJcbiAgICBhZGRMaWtlKGZvclVybCl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCtmb3JVcmwsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzVUxUJyArcmVzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdCdWcgZGV0ZWN0ZWQhJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IFxyXG5cclxuICAgIHNldENhcmQoZm9yVXJsLHNldHRpbmdzKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsK2ZvclVybCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MpLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0J1ZyBkZXRlY3RlZCEnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxDYXJkKGZvclVybCxjYXJkSWQpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwrZm9yVXJsK2NhcmRJZCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQnVnIGRldGVjdGVkIScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9wcmVzc1llcyA9ICgpID0+IHsgfTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTdWJtaXRBY3Rpb24gPSAoYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fcHJlc3NZZXNzID0gYWN0aW9uO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQUNUSU9OXCIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgdG9rZW4sIG1haW4sIHByb2ZpbGVGb3JtLCBjYXJkRm9ybSwgdmFsaWRhdGlvbkxpc3QgfSBmcm9tIFwiLi9jb21wb25lbnRzL3ZhcmlhYmxlc1wiO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4vY29tcG9uZW50cy9DYXJkXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7IFBvcHVwQ29uZmlybSB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBDb25maXJtXCI7XHJcblxyXG5cclxuY29uc3QgcHJvZmlsZURlc2NyaWJlID0ge1xyXG4gIHVzZXJOYW1lOiAnLnByb2ZpbGVfX25hbWUnLFxyXG4gIGRlc2NyaXB0aW9uOiAnLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJ1xyXG59O1xyXG5jb25zdCBpbnB1dE5hbWUgPSBwcm9maWxlRm9ybS5lbGVtZW50cy5uYW1lO1xyXG5jb25zdCBpbnB1dG5EZXNjcmlwdCA9IHByb2ZpbGVGb3JtLmVsZW1lbnRzLmRlc2NyaXB0aW9uO1xyXG5cclxuXHJcbi8vLS0tLS1idXR0b25zLS0tLS0tLVxyXG5jb25zdCBwcm9maWxlT3BlbkJ1dHRvbiA9IG1haW4ucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmNvbnN0IGNhcmRBZGRCdXR0b24gPSBtYWluLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XHJcblxyXG5cclxuLy89PT09PT09ZnVuY3Rpb25zPT09PT09PT09XHJcbmNvbnN0IGhhbmRsZUNhcmRDbGljayA9IChjYXJkTmFtZSwgY2FyZExpbmspID0+IHtcclxuICBiaWdJbWFnZS5vcGVuKGNhcmROYW1lLCBjYXJkTGluayk7XHJcbn1cclxuXHJcblxyXG5jb25zdCBkZWxMaWtlID0gKGNhcmRJZCkgPT4ge1xyXG4gIHJldHVybiBhcGkuZGVsTGlrZShgY2FyZHMvJHtjYXJkSWR9L2xpa2VzYClcclxuICAgIC50aGVuKChsaWtlcykgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnbGlrZXM9JyArIGxpa2VzLmxlbmd0aCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdjbGlrZUFycmF5PScgKyBsaWtlcyk7XHJcbiAgICAgIHJldHVybiBsaWtlcztcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGFkZExpa2UgPSAoY2FyZElkKSA9PiB7XHJcbiAgcmV0dXJuIGFwaS5hZGRMaWtlKGBjYXJkcy8ke2NhcmRJZH0vbGlrZXNgKVxyXG4gICAgLnRoZW4oKGxpa2VzKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdsaWtlcz0nICsgbGlrZXMubGVuZ3RoKTtcclxuICAgICAgY29uc29sZS5sb2coJ2NsaWtlQXJyYXk9JyArIGxpa2VzKTtcclxuICAgICAgcmV0dXJuIGxpa2VzO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuLy89PT09PT09Y2xhc3NlcyBhbmQgY2FsbGJhY2tzPT09PT09PT09XHJcblxyXG4vLy8vLy8vLy8tLWdldHRpbmcgdXNlciBpbmZvICYgY2FyZHMgZnJvbSBzZXJ2ZXItLS8vLy8vLy8vXHJcbmNvbnN0IGJpZ0ltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfYmlnLWltYWdlJyk7XHJcbmJpZ0ltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBjb25maXJtUG9wdXAgPSBuZXcgUG9wdXBDb25maXJtKCcucG9wdXBfcXVlc3Rpb24nKTtcclxuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHRva2VuKTtcclxuYXBpLmdldERhdGEoJ3VzZXJzL21lJylcclxuICAudGhlbigodXNlcnNJbmZvKSA9PiB7XHJcbiAgICB3aW5kb3cubXlJZCA9IHVzZXJzSW5mby5faWQ7XHJcbiAgICBhcGkuZ2V0RGF0YSgnY2FyZHMnKVxyXG4gICAgICAudGhlbigoZGJDYXJkcykgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5hZGRHYWxhcnkgPSBuZXcgU2VjdGlvbih7XHJcbiAgICAgICAgICBpdGVtczogZGJDYXJkcyxcclxuICAgICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZXR1cm5DYXJkID0gYWRkTmV3Q2FyZChpdGVtLCBteUlkKTtcclxuICAgICAgICAgICAgYWRkR2FsYXJ5LmFwcGVuZHMocmV0dXJuQ2FyZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgXCIucGhvdG9zXCIpO1xyXG4gICAgICAgIGFkZEdhbGFyeS5yZW5kZXJJdGVtcygpO1xyXG4gICAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pO1xyXG5cclxuY29uc3QgYWRkTmV3Q2FyZCA9IChkZXNjcmliZSwgbXlJZCkgPT4ge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcclxuICAgIGRlc2NyaWJlLCAnLnRlbXBsYXRlLWNhcmQnLCBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICB7aGFuZGxlQ2FyZERlbGV0ZTogKGNhcmRJZCxldnQpID0+IHtcclxuICAgICAgY29uZmlybVBvcHVwLm9wZW4oKTtcclxuICAgICAgY29uZmlybVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NVQk1JVCcpXHJcbiAgICAgICAgYXBpLmRlbENhcmQoJ2NhcmRzLycsY2FyZElkKVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBuZXdDYXJkLmRlbENhcmQoZXZ0KTtcclxuICAgICAgICAgICAgY29uZmlybVBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH19LFxyXG4gICAgZGVsTGlrZSwgYWRkTGlrZSwgbXlJZCk7XHJcbiAgY29uc3QgbmV3UmV0dXJuQ2FyZCA9IG5ld0NhcmQubWFrZUNhcmQoKTtcclxuICByZXR1cm4gbmV3UmV0dXJuQ2FyZDtcclxufVxyXG5cclxuY29uc3QgcG9wdXBDYXJkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICcucG9wdXBfYWRkZXInLFxyXG4gIChuYW1lQW5kTGluaykgPT4ge1xyXG4gICAgYXBpLnNldENhcmQoJ2NhcmRzJywgbmFtZUFuZExpbmspXHJcbiAgICAgIC50aGVuKChjYXJkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmV0dXJuQ2FyZCA9IGFkZE5ld0NhcmQoY2FyZCwgY2FyZC5vd25lci5faWQpO1xyXG4gICAgICAgIGFkZEdhbGFyeS5wcmVwZW5kcyhyZXR1cm5DYXJkKTtcclxuICAgICAgICBwb3B1cENhcmRGb3JtLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4pO1xyXG5wb3B1cENhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlRGVzY3JpYmUpO1xyXG5cclxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgJy5wb3B1cF9lZGl0b3InLFxyXG4gIChuZXdJbnB1dHMpID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKG5ld0lucHV0cyk7XHJcbiAgICBwb3B1cFByb2ZpbGUuY2xvc2UoKTtcclxuICB9XHJcbik7XHJcbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8tLS0tLS0tLWVuYWJsZSB2YWxpZGF0aW9uLS0tLS0tLS0tLVxyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkxpc3QsIHByb2ZpbGVGb3JtKTtcclxucHJvZmlsZUZvcm1WYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkxpc3QsIGNhcmRGb3JtKTtcclxuY2FyZEZvcm1WYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5cclxuLy89PT09PT09PT09YnV0dG9ucyBsaXN0ZW5lcnM9PT09PT09PT09PVxyXG5cclxuY2FyZEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cENhcmRGb3JtLm9wZW4oKTtcclxuICBjYXJkRm9ybVZhbGlkYXRlLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KVxyXG5cclxucHJvZmlsZU9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcG9wdXBQcm9maWxlLm9wZW4oKTtcclxuICBjb25zdCBvbGRQcm9maWxlID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBpbnB1dE5hbWUudmFsdWUgPSBvbGRQcm9maWxlLnVzZXJOYW1lO1xyXG4gIGlucHV0bkRlc2NyaXB0LnZhbHVlID0gb2xkUHJvZmlsZS5kZXNjcmlwdDtcclxuICBwcm9maWxlRm9ybVZhbGlkYXRlLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KVxyXG5cclxuIl0sIm5hbWVzIjpbInZhbGlkYXRpb25MaXN0IiwiYWN0aXZlRm9ybSIsImZvcm1JbnB1dCIsInBvcHVwU2F2ZUJ1dHRvbiIsInBvcHVwRGlzYWJsZUJ1dHRvbiIsImlucHV0RXJyb3IiLCJhY3RpdmVFcnJvciIsIm1haW4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlRm9ybSIsImZvcm1zIiwicHJvZmlsZSIsImNhcmRGb3JtIiwiYWRkSW1hZ2UiLCJDYXJkIiwiaXRlbSIsInNlbGVjdG9yVGVtcGxhdGUiLCJoYW5kbGVDYXJkQ2xpY2siLCJkZWxMaWtlIiwiYWRkTGlrZSIsIm15SWQiLCJoYW5kbGVDYXJkRGVsZXRlIiwiX3NlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsImV2dCIsIl9oYW5kbGVDYXJkRGVsZXRlIiwiX2NhcmRJZCIsIl9jYXJkVGVtcGxhdGUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwicmVtb3ZlIiwiX293bmVySWQiLCJfY2FyZFJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfZGVsZXRlSW1hZ2UiLCJjbGFzc0xpc3QiLCJfY2FyZExpa2UiLCJfbGlrZSIsIl9nZXRMaWtlcyIsIk9iamVjdCIsImFzc2lnbiIsIl9kZWxMaWtlIiwiY29uc29sZSIsImxvZyIsIl9hZGRMaWtlQ291bnRlciIsIl9hZGRMaWtlIiwidGhlbiIsImxpa2VzIiwibGVuZ3RoIiwibmV3TGlrZXMiLCJjYXRjaCIsImVyciIsInRvZ2dsZSIsIl9jYXJkSW1hZ2UiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX25ld0NhcmROYW1lIiwiX2ltYWdlTGluayIsInVuZGVmaW5lZCIsImZpbmQiLCJfaWQiLCJfbXlJZCIsImFkZCIsIl9saWtlTnVtYmVyIiwidGV4dENvbnRlbnQiLCJ0aGlzIiwibmFtZSIsImxpbmsiLCJvd25lciIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkTmFtZSIsIl9jaGVja0xpa2VzIiwic2V0QXR0cmlidXRlIiwiX2FkZEV2ZW50cyIsIlNlY3Rpb24iLCJzZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaW5uZXJIVE1MIiwiY2xlYXIiLCJmb3JFYWNoIiwiaXRlbUh0bWwiLCJwcmVwZW5kIiwiYXBwZW5kIiwiRm9ybVZhbGlkYXRvciIsImxpc3QiLCJmb3JtQWN0aXZlIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2lucHV0QXJyYXkiLCJpbnB1dHMiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwidmFsaWRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JJbkVsZW1lbnQiLCJfZm9ybSIsImlkIiwiX2lucHV0RXJyb3IiLCJfYWN0aXZlRXJyb3IiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJzb21lIiwiaW5wdXRFbGVtZW50IiwiX2hhc0ludmFsaWRJbnB1dCIsIl9zYXZlQnV0dG9uIiwiX3BvcHVwRGlzYWJsZUJ1dHRvbiIsInJlbW92ZUF0dHJpYnV0ZSIsImlucHV0IiwiX2FjdGl2ZUZvcm0iLCJfZm9ybUlucHV0IiwiX3BvcHVwU2F2ZUJ1dHRvbiIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJQb3B1cCIsIl9lc2NDbG9zZUxpc3RlbiIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9jbG9zZUxpc3RlbmVyIiwiY3VycmVudFRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfYmlnSW1hZ2UiLCJfYmlnSW1hZ2VDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImdldENhcmRGcm9tQXBpIiwiX2dldENhcmRzRnJvbUFwaSIsIm5ld1ZhbHVlcyIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwidXNlck5hbWUiLCJkZXNjcmlwdGlvbiIsIl9uYW1lIiwiX2Rlc2NyaXB0aW9uIiwiZGVzY3JpcHQiLCJuZXdJbnB1dHMiLCJBcGkiLCJ0b2tlbiIsIl91cmwiLCJfdG9rZW4iLCJfaGVhZGVycyIsImZvclVybCIsImZldGNoIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJtZXRob2QiLCJzZXR0aW5ncyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiUG9wdXBDb25maXJtIiwiYWN0aW9uIiwiX3ByZXNzWWVzcyIsIl9wcmVzc1llcyIsImlucHV0TmFtZSIsImVsZW1lbnRzIiwiaW5wdXRuRGVzY3JpcHQiLCJwcm9maWxlT3BlbkJ1dHRvbiIsImNhcmRBZGRCdXR0b24iLCJjYXJkTmFtZSIsImNhcmRMaW5rIiwiYmlnSW1hZ2UiLCJvcGVuIiwiYXBpIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjb25maXJtUG9wdXAiLCJnZXREYXRhIiwidXNlcnNJbmZvIiwid2luZG93IiwiZGJDYXJkcyIsImFkZEdhbGFyeSIsInJldHVybkNhcmQiLCJhZGROZXdDYXJkIiwiYXBwZW5kcyIsInJlbmRlckl0ZW1zIiwiZGVzY3JpYmUiLCJuZXdDYXJkIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsQ2FyZCIsIm1ha2VDYXJkIiwicG9wdXBDYXJkRm9ybSIsIm5hbWVBbmRMaW5rIiwic2V0Q2FyZCIsImNhcmQiLCJwcmVwZW5kcyIsInVzZXJJbmZvIiwicG9wdXBQcm9maWxlIiwic2V0VXNlckluZm8iLCJwcm9maWxlRm9ybVZhbGlkYXRlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImNhcmRGb3JtVmFsaWRhdGUiLCJyZXNldFZhbGlkYXRpb24iLCJvbGRQcm9maWxlIiwiZ2V0VXNlckluZm8iXSwic291cmNlUm9vdCI6IiJ9