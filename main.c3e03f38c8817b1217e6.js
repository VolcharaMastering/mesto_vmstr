!function(){"use strict";var e={activeForm:".popup__inputs",formInput:".popup__input",popupSaveButton:".popup__save",popupDisableButton:"popup__save_disable",inputError:"popup__input_type_error",activeError:"popup__input_error_active"},t=document.querySelector(".gallery"),n=document.forms.profile,r=document.forms.addImage,o=document.forms.addAvatar,i=t.querySelector(".profile__avatar-image");function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t,n,r,o,i){var a=this,u=o.handleCardDelete,s=o.delLike,l=o.addLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"_getTemplate",(function(){return document.querySelector(a._selector).content.cloneNode(!0)})),c(this,"_deleteImage",(function(){a._handleCardDelete(a._card)})),c(this,"_addEvents",(function(){a._card.owner._id==a._myId?a._cardRemove.addEventListener("click",a._deleteImage):(a._cardRemove.remove(),a._cardRemove=null),a._cardLike.addEventListener("click",(function(){a._like?a._delLike(a._card._id):a._addLike(a._card._id),a._cardLike.classList.toggle("card__like_active")})),a._cardImage.addEventListener("click",(function(){a._handleCardClick(a._card.name,a._card.link)}))})),c(this,"_checkLikes",(function(){a._card.likes.length>0&&a._card.likes.find((function(e){return e._id==a._myId}))?(a._cardLike.classList.add("card__like_active"),a._like=!0):a._like=!1})),c(this,"_addLikeCounter",(function(e){a._likeNumber.textContent=e})),c(this,"updateLikes",(function(e){a._card.likes=e,a._checkLikes(),a._addLikeCounter(a._card.likes.length)})),this._card=t,this._selector=n,this._handleCardClick=r,this._handleCardDelete=u,this._delLike=s,this._addLike=l,this._myId=i,this._like=!1}var t,n;return t=e,(n=[{key:"delCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"makeCard",value:function(){return this._cardTemplate=this._getTemplate(),this._cardElement=this._cardTemplate.querySelector(".card"),this._cardImage=this._cardTemplate.querySelector(".card__image"),this._cardName=this._cardTemplate.querySelector(".card__name"),this._cardRemove=this._cardTemplate.querySelector(".card__remove"),this._cardLike=this._cardTemplate.querySelector(".card__like"),this._likeNumber=this._cardTemplate.querySelector(".card__like-count"),this._checkLikes(),this._addLikeCounter(this._card.likes.length),this._cardImage.setAttribute("src",this._card.link),this._cardImage.setAttribute("alt","Фото из галереи: "+this._card.name),this._cardName.textContent=this._card.name,this._addEvents(),this._cardTemplate}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this.clear(),this._items.forEach((function(t){return e._renderer(t)}))}},{key:"prepends",value:function(e){this._container.prepend(e)}},{key:"appends",value:function(e){this._container.append(e)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=p((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"_setEventListeners",(function(){r._toggleButtonState(),r._inputArray.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))}))})),d(this,"enableValidation",(function(){r._setEventListeners()})),d(this,"_showInputError",(function(e,t){var n=r._form.querySelector(".".concat(e.id,"-error"));e.classList.add(r._inputError),n.classList.add(r._activeError),n.textContent=t})),d(this,"_hideInputError",(function(e){var t=r._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(r._inputError),t.classList.remove(r._activeError),t.textContent=""})),d(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),d(this,"_hasInvalidInput",(function(){return r._inputArray.some((function(e){return!e.validity.valid}))})),d(this,"_toggleButtonState",(function(){r._hasInvalidInput()?(r._saveButton.classList.add(r._popupDisableButton),r._saveButton.setAttribute("disabled","disabled")):(r._saveButton.classList.remove(r._popupDisableButton),r._saveButton.removeAttribute("disabled"))})),d(this,"resetValidation",(function(){r._toggleButtonState(),r._inputArray.forEach((function(e){r._hideInputError(e)}))})),this._activeForm=t.activeForm,this._formInput=t.formInput,this._popupSaveButton=t.popupSaveButton,this._popupDisableButton=t.popupDisableButton,this._inputError=t.inputError,this._activeError=t.activeError,this._form=n,this._inputArray=Array.from(this._form.querySelectorAll(this._formInput)),this._saveButton=this._form.querySelector(this._popupSaveButton)}));function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(){document.addEventListener("keydown",o._escCloseListen=function(e){"Escape"===e.key&&o.close()})},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_active"),this._handleEscClose()}},{key:"close",value:function(){this._popup.classList.remove("popup_active"),document.removeEventListener("keydown",this._escCloseListen)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",this._closeListener=function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close"))&&e.close()})}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function m(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(n);if(r){var o=E(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return m(this,e)});function i(e){var t,n,r,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),c=function(e,r){n._bigImage.setAttribute("src",r),n._bigImage.setAttribute("alt","Увеличенное фото из галереи: "+e),n._bigImageCaption.textContent=e,k((t=g(n),E(i.prototype)),"open",t).call(t)},(a="open")in(r=g(n=o.call(this,e)))?Object.defineProperty(r,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):r.open=c,n._bigImage=n._popup.querySelector(".popup__image"),n._bigImageCaption=n._popup.querySelector(".popup__image-caption"),n}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(y);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=S(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},P.apply(this,arguments)}function S(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function C(e,t){return C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},C(e,t)}function I(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._popup.querySelector(".popup__inputs"),n._inputArray=n._popup.querySelectorAll(".popup__input"),n._getDataFromApi=t,n._saveButton=n._popup.querySelector(".popup__save"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputArray.forEach((function(t){e[t.name]=t.value})),e}},{key:"changeSaveButton",value:function(){this._saveButton.textContent="Сохранение..."}},{key:"setEventListeners",value:function(){var e=this;this._form.addEventListener("submit",(function(t){t.preventDefault(),e._getDataFromApi(e._getInputValues())})),P(B(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){P(B(a.prototype),"close",this).call(this),this._form.reset()}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(y);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t){var n=t.name,r=t.about;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url="https://mesto.nomoreparties.co/v1/cohort-43/",this._token=t,this._headers={"Content-type":"application/json",authorization:"9ccf29bd-3d67-4cc8-8c99-82c18d019a44"}}var t,n;return t=e,(n=[{key:"getData",value:function(e){return fetch(this._url+e,{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Bug detected! ".concat(e.status))}))}},{key:"delLike",value:function(e){return fetch(this._url+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Bug detected! ".concat(e.status))}))}},{key:"addLike",value:function(e){return fetch(this._url+e,{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?e.json():Promise.reject("Bug detected! ".concat(e.status))}))}},{key:"setCard",value:function(e,t){return fetch(this._url+e,{headers:this._headers,method:"POST",body:JSON.stringify(t)}).then((function(e){return e.ok?e.json():Promise.reject("Bug detected! ".concat(e.status))}))}},{key:"delCard",value:function(e,t){return fetch(this._url+e+t,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Bug detected! ".concat(e.status))}))}},{key:"setProfile",value:function(e,t){return fetch(this._url+e,{headers:this._headers,method:"PATCH",body:JSON.stringify(t)}).then((function(e){return e.ok?e.json():Promise.reject("Bug detected! ".concat(e.status))}))}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=F(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},U.apply(this,arguments)}function F(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=M(e)););return e}function G(e,t){return G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},G(e,t)}function H(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(r);if(o){var n=M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return H(this,e)});function a(){var e;V(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Y(J(e=i.call.apply(i,[this].concat(n))),"setSubmitAction",(function(t){e._pressYess=t})),e}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__ok").addEventListener("click",(function(t){t.preventDefault(),e._pressYess()})),U(M(a.prototype),"setEventListeners",this).call(this)}}])&&N(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(y),K=n.elements.name,Q=n.elements.about,W=t.querySelector(".profile__edit-button"),X=t.querySelector(".profile__add-button"),Z=t.querySelector(".profile__avatar"),$=new O(".popup_big-image");$.setEventListeners();var ee=new z(".popup_question");ee.setEventListeners();var te=new q({name:".profile__name",about:".profile__description"}),ne=new A("9ccf29bd-3d67-4cc8-8c99-82c18d019a44");ne.getData("users/me").then((function(e){window.myId=e._id,ue(e.avatar),te.setUserInfo(e),ne.getData("cards").then((function(e){window.addGalary=new l({items:e,renderer:function(e){var t=re(e,myId);addGalary.appends(t)}},".photos"),addGalary.renderItems()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));var re=function(e,t){var n=new u(e,".template-card",ce,{handleCardDelete:function(e){ee.open(),ee.setSubmitAction((function(){ne.delCard("cards/",e._id).then((function(){n.delCard(),ee.close()})).catch((function(e){console.log(e)}))}))},delLike:function(e){ne.delLike("cards/".concat(e,"/likes")).then((function(e){n.updateLikes(e.likes)})).catch((function(e){console.log(e)}))},addLike:function(e){ne.addLike("cards/".concat(e,"/likes")).then((function(e){n.updateLikes(e.likes)})).catch((function(e){console.log(e)}))}},t);return n.makeCard()},oe=new T(".popup_adder",(function(e){ne.setCard("cards",e).then((function(e){Promise.resolve(oe.changeSaveButton());var t=re(e,e.owner._id);addGalary.prepends(t),oe.close()})).catch((function(e){console.log(e)}))}));oe.setEventListeners();var ie=new T(".popup_editor",(function(e){ne.setProfile("users/me",e).then((function(e){Promise.resolve(ie.changeSaveButton()),te.setUserInfo(e),ie.close()})).catch((function(e){console.log(e)}))}));ie.setEventListeners();var ae=new T(".popup_avatar",(function(e){ne.setProfile("users/me/avatar",e).then((function(e){Promise.resolve(ae.changeSaveButton()),ue(e.avatar),ae.close()})).catch((function(e){console.log(e)}))}));ae.setEventListeners();var ce=function(e,t){$.open(e,t)},ue=function(e){i.setAttribute("src",e)},se=new h(e,n);se.enableValidation();var le=new h(e,r);le.enableValidation();var fe=new h(e,o);fe.enableValidation(),X.addEventListener("click",(function(){oe.open(),le.resetValidation()})),Z.addEventListener("click",(function(){ae.open(),fe.resetValidation()})),W.addEventListener("click",(function(){ie.open();var e=te.getUserInfo();K.value=e.name,Q.value=e.about,se.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkYsTUFDbEM4RSxHQUFvQkkscUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL3ZhcmlhYmxlcy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdG9rZW4gPSAnOWNjZjI5YmQtM2Q2Ny00Y2M4LThjOTktODJjMThkMDE5YTQ0JztcclxuXHJcbmNvbnN0IHVzZXJQcm9maWxlID0gW1xyXG4gIHtcclxuICAgIG5hbWU6ICcucHJvZmlsZV9fbmFtZScsXHJcbiAgICBkZXNjcmlwdDogJy5wcm9maWxlX19kZXNjcmlwdGlvbidcclxuICB9XHJcbl07XHJcblxyXG5jb25zdCB2YWxpZGF0aW9uTGlzdCA9IHtcclxuICBhY3RpdmVGb3JtOiAnLnBvcHVwX19pbnB1dHMnLFxyXG4gIGZvcm1JbnB1dDogJy5wb3B1cF9faW5wdXQnLFxyXG4gIHBvcHVwU2F2ZUJ1dHRvbjogJy5wb3B1cF9fc2F2ZScsXHJcbiAgcG9wdXBEaXNhYmxlQnV0dG9uOiAncG9wdXBfX3NhdmVfZGlzYWJsZScsXHJcbiAgaW5wdXRFcnJvcjogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcclxuICBhY3RpdmVFcnJvcjogJ3BvcHVwX19pbnB1dF9lcnJvcl9hY3RpdmUnXHJcbn07XHJcblxyXG5jb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnknKTtcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtcy5wcm9maWxlO1xyXG5jb25zdCBjYXJkRm9ybSA9IGRvY3VtZW50LmZvcm1zLmFkZEltYWdlO1xyXG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQuZm9ybXMuYWRkQXZhdGFyO1xyXG5jb25zdCBhdmF0YXJJbWFnZSA9IG1haW4ucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1pbWFnZScpO1xyXG5cclxuZXhwb3J0IHsgdG9rZW4sIG1haW4sIHByb2ZpbGVGb3JtLCBjYXJkRm9ybSwgdmFsaWRhdGlvbkxpc3QsIGF2YXRhckltYWdlLCBhdmF0YXJGb3JtIH07IiwiZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IoaXRlbSwgc2VsZWN0b3JUZW1wbGF0ZSwgaGFuZGxlQ2FyZENsaWNrLCB7IGhhbmRsZUNhcmREZWxldGUsIGRlbExpa2UsIGFkZExpa2UgfSwgbXlJZCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmQgPSBpdGVtO1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3JUZW1wbGF0ZTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSA9IGhhbmRsZUNhcmREZWxldGU7XHJcbiAgICAgICAgdGhpcy5fZGVsTGlrZSA9IGRlbExpa2U7XHJcbiAgICAgICAgdGhpcy5fYWRkTGlrZSA9IGFkZExpa2U7XHJcbiAgICAgICAgdGhpcy5fbXlJZCA9IG15SWQ7XHJcbiAgICAgICAgdGhpcy5fbGlrZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRUZW1wbGF0ZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcilcclxuICAgICAgICAgICAgLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIHJldHVybiBjYXJkVGVtcGxhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgX2RlbGV0ZUltYWdlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUodGhpcy5fY2FyZCk7XHJcbiAgICB9XHJcbiAgICBkZWxDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgX2FkZEV2ZW50cyA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5fY2FyZC5vd25lci5faWQgPT0gdGhpcy5fbXlJZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fZGVsZXRlSW1hZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FyZFJlbW92ZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5fY2FyZFJlbW92ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jYXJkTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2xpa2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RlbExpa2UodGhpcy5fY2FyZC5faWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkTGlrZSh0aGlzLl9jYXJkLl9pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9jYXJkLm5hbWUsIHRoaXMuX2NhcmQubGluayk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4vLy8vLS0tLS1GdW5jdGlvbiBmb3IgY2hlY2tpbmcgbGlrZXMgICAgLS0tLS0tLy8vLy8vL1xyXG4gICAgX2NoZWNrTGlrZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhcmQubGlrZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBpc0xpa2UgPSB0aGlzLl9jYXJkLmxpa2VzLmZpbmQoaXRlbSA9PiBpdGVtLl9pZCA9PSB0aGlzLl9teUlkKTtcclxuICAgICAgICAgICAgaWYgKGlzTGlrZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpa2UgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlrZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9hZGRMaWtlQ291bnRlciA9IChjb3VudGVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fbGlrZU51bWJlci50ZXh0Q29udGVudCA9IGNvdW50ZXI7XHJcbiAgICB9O1xyXG5cclxuICAgIHVwZGF0ZUxpa2VzID0gKGxpa2VzKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2FyZC5saWtlcyA9IGxpa2VzO1xyXG4gICAgICAgIHRoaXMuX2NoZWNrTGlrZXMoKTtcclxuICAgICAgICB0aGlzLl9hZGRMaWtlQ291bnRlcih0aGlzLl9jYXJkLmxpa2VzLmxlbmd0aClcclxuICAgIH1cclxuXHJcbiAgICBtYWtlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJyk7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuX2NhcmROYW1lID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19uYW1lJyk7XHJcbiAgICAgICAgdGhpcy5fY2FyZFJlbW92ZSA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fcmVtb3ZlJyk7XHJcbiAgICAgICAgdGhpcy5fY2FyZExpa2UgPSB0aGlzLl9jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UnKTtcclxuICAgICAgICB0aGlzLl9saWtlTnVtYmVyID0gdGhpcy5fY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWNvdW50Jyk7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tMaWtlcygpO1xyXG4gICAgICAgIHRoaXMuX2FkZExpa2VDb3VudGVyKHRoaXMuX2NhcmQubGlrZXMubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLl9jYXJkSW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCB0aGlzLl9jYXJkLmxpbmspO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsICfQpNC+0YLQviDQuNC3INCz0LDQu9C10YDQtdC4OiAnICsgdGhpcy5fY2FyZC5uYW1lKTtcclxuICAgICAgICB0aGlzLl9jYXJkTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX2NhcmQubmFtZTtcclxuICAgICAgICB0aGlzLl9hZGRFdmVudHMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZFRlbXBsYXRlO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgfVxyXG5cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSlcclxuICB9XHJcblxyXG5cclxuICBwcmVwZW5kcyhpdGVtSHRtbCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbUh0bWwpXHJcbiAgfVxyXG4gIGFwcGVuZHMoaXRlbUh0bWwpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoaXRlbUh0bWwpXHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihsaXN0LCBmb3JtQWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZlRm9ybSA9IGxpc3QuYWN0aXZlRm9ybTtcclxuICAgICAgICB0aGlzLl9mb3JtSW5wdXQgPSBsaXN0LmZvcm1JbnB1dDtcclxuICAgICAgICB0aGlzLl9wb3B1cFNhdmVCdXR0b24gPSBsaXN0LnBvcHVwU2F2ZUJ1dHRvbjtcclxuICAgICAgICB0aGlzLl9wb3B1cERpc2FibGVCdXR0b24gPSBsaXN0LnBvcHVwRGlzYWJsZUJ1dHRvbjtcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yID0gbGlzdC5pbnB1dEVycm9yO1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZUVycm9yID0gbGlzdC5hY3RpdmVFcnJvcjtcclxuICAgICAgICB0aGlzLl9mb3JtID0gZm9ybUFjdGl2ZTtcclxuICAgICAgICB0aGlzLl9pbnB1dEFycmF5ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fZm9ybUlucHV0KSk7XHJcbiAgICAgICAgdGhpcy5fc2F2ZUJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9wb3B1cFNhdmVCdXR0b24pO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0QXJyYXkuZm9yRWFjaCgoaW5wdXRzKSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0cy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IgPSAodmFsaWRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvckluRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7dmFsaWRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIHZhbGlkRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3IpO1xyXG4gICAgICAgIGVycm9ySW5FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fYWN0aXZlRXJyb3IpO1xyXG4gICAgICAgIGVycm9ySW5FbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIF9oaWRlSW5wdXRFcnJvciA9ICh2YWxpZEVsZW1lbnQpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvckluRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7dmFsaWRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIHZhbGlkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3IpO1xyXG4gICAgICAgIGVycm9ySW5FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fYWN0aXZlRXJyb3IpO1xyXG4gICAgICAgIGVycm9ySW5FbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9ICh2YWxpZEVsZW1lbnQpID0+IHtcclxuICAgICAgICBpZiAoIXZhbGlkRWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcih2YWxpZEVsZW1lbnQsIHZhbGlkRWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhpcy5faGlkZUlucHV0RXJyb3IodmFsaWRFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dEFycmF5LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NhdmVCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9wb3B1cERpc2FibGVCdXR0b24pO1xyXG4gICAgICAgICAgICB0aGlzLl9zYXZlQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NhdmVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9wb3B1cERpc2FibGVCdXR0b24pO1xyXG4gICAgICAgICAgICB0aGlzLl9zYXZlQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRBcnJheS5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgfVxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9hY3RpdmUnKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX2FjdGl2ZScpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9lc2NDbG9zZUxpc3Rlbik7XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9lc2NDbG9zZUxpc3RlbiA9IChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlTGlzdGVuZXIgPSAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xyXG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtY2FwdGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4gPSAobmFtZSwgbGluaykgPT4ge1xyXG4gICAgICAgIHRoaXMuX2JpZ0ltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgbGluayk7XHJcbiAgICAgICAgdGhpcy5fYmlnSW1hZ2Uuc2V0QXR0cmlidXRlKCdhbHQnLCAn0KPQstC10LvQuNGH0LXQvdC90L7QtSDRhNC+0YLQviDQuNC3INCz0LDQu9C10YDQtdC4OiAnICsgbmFtZSk7XHJcbiAgICAgICAgdGhpcy5fYmlnSW1hZ2VDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIGdldERhdGFGcm9tQXBpKSB7XHJcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0cycpO1xyXG4gICAgICAgIHRoaXMuX2lucHV0QXJyYXkgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5fZ2V0RGF0YUZyb21BcGkgPSBnZXREYXRhRnJvbUFwaTtcclxuICAgICAgICB0aGlzLl9zYXZlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2lucHV0QXJyYXkuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgbmV3VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VTYXZlQnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdGhpcy5fZ2V0RGF0YUZyb21BcGkodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lKTtcclxuICAgICAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXQpO1xyXG4gICAgfVxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgY29uc3QgZ2V0SW5mbyA9IHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gZ2V0SW5mbztcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyhuZXdJbnB1dHMpIHtcclxuICAgICAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmV3SW5wdXRzLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBuZXdJbnB1dHMuYWJvdXQ7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKHRva2VuKSB7XHJcbiAgICAgICAgdGhpcy5fdXJsID0gJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDMvJztcclxuICAgICAgICB0aGlzLl90b2tlbiA9IHRva2VuO1xyXG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSB7XHJcbiAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICdhdXRob3JpemF0aW9uJzogJzljY2YyOWJkLTNkNjctNGNjOC04Yzk5LTgyYzE4ZDAxOWE0NCdcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YShmb3JVcmwpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsK2ZvclVybCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXHJcbiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgQnVnIGRldGVjdGVkISAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBkZWxMaWtlKGZvclVybCl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCtmb3JVcmwsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEJ1ZyBkZXRlY3RlZCEgJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBcclxuXHJcbiAgICBhZGRMaWtlKGZvclVybCl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCtmb3JVcmwsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEJ1ZyBkZXRlY3RlZCEgJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBcclxuXHJcbiAgICBzZXRDYXJkKGZvclVybCxzZXR0aW5ncyl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCtmb3JVcmwsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBCdWcgZGV0ZWN0ZWQhICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxDYXJkKGZvclVybCxjYXJkSWQpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwrZm9yVXJsK2NhcmRJZCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgQnVnIGRldGVjdGVkISAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UHJvZmlsZShmb3JVcmwsZGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCtmb3JVcmwsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBCdWcgZGV0ZWN0ZWQhICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcblxyXG4gICAgc2V0U3VibWl0QWN0aW9uID0gKGFjdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuX3ByZXNzWWVzcyA9IGFjdGlvbjtcclxuICAgIH1cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fb2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByZXNzWWVzcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyB0b2tlbiwgbWFpbiwgcHJvZmlsZUZvcm0sIGNhcmRGb3JtLCB2YWxpZGF0aW9uTGlzdCwgYXZhdGFySW1hZ2UsIGF2YXRhckZvcm0gfSBmcm9tIFwiLi9jb21wb25lbnRzL3ZhcmlhYmxlc1wiO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4vY29tcG9uZW50cy9DYXJkXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7IFBvcHVwQ29uZmlybSB9IGZyb20gXCIuL2NvbXBvbmVudHMvUG9wdXBDb25maXJtXCI7XHJcblxyXG5cclxuLy8vLy0tLS0tdmFyaWFibGVzLS0tLS0tLy8vLy8vL1xyXG5jb25zdCBwcm9maWxlRGVzY3JpYmUgPSB7XHJcbiAgbmFtZTogJy5wcm9maWxlX19uYW1lJyxcclxuICBhYm91dDogJy5wcm9maWxlX19kZXNjcmlwdGlvbidcclxufTtcclxuY29uc3QgaW5wdXROYW1lID0gcHJvZmlsZUZvcm0uZWxlbWVudHMubmFtZTtcclxuY29uc3QgaW5wdXRuRGVzY3JpcHQgPSBwcm9maWxlRm9ybS5lbGVtZW50cy5hYm91dDtcclxuXHJcblxyXG4vLy0tLS0tYnV0dG9ucy0tLS0tLS1cclxuY29uc3QgcHJvZmlsZU9wZW5CdXR0b24gPSBtYWluLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xyXG5jb25zdCBjYXJkQWRkQnV0dG9uID0gbWFpbi5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5jb25zdCBhdmF0YXJDaGFuZ2VCdXR0b24gPSBtYWluLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcclxuXHJcblxyXG4vLz09PT09PT1jbGFzc2VzIGFuZCBjYWxsYmFja3M9PT09PT09PT1cclxuXHJcbmNvbnN0IGJpZ0ltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfYmlnLWltYWdlJyk7XHJcbmJpZ0ltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBjb25maXJtUG9wdXAgPSBuZXcgUG9wdXBDb25maXJtKCcucG9wdXBfcXVlc3Rpb24nKTtcclxuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlRGVzY3JpYmUpO1xyXG5cclxuLy8vLy8vLy8vLS1nZXR0aW5nIHVzZXIgaW5mbyAmIGNhcmRzIGZyb20gc2VydmVyLS0vLy8vLy8vL1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHRva2VuKTtcclxuYXBpLmdldERhdGEoJ3VzZXJzL21lJylcclxuICAudGhlbigodXNlcnNJbmZvKSA9PiB7XHJcbiAgICB3aW5kb3cubXlJZCA9IHVzZXJzSW5mby5faWQ7XHJcbiAgICBzZXRBdmF0YXIodXNlcnNJbmZvLmF2YXRhcik7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2Vyc0luZm8pO1xyXG4gICAgYXBpLmdldERhdGEoJ2NhcmRzJylcclxuICAgICAgLnRoZW4oKGRiQ2FyZHMpID0+IHtcclxuICAgICAgICB3aW5kb3cuYWRkR2FsYXJ5ID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgICAgICAgaXRlbXM6IGRiQ2FyZHMsXHJcbiAgICAgICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmV0dXJuQ2FyZCA9IGFkZE5ld0NhcmQoaXRlbSwgbXlJZCk7XHJcbiAgICAgICAgICAgIGFkZEdhbGFyeS5hcHBlbmRzKHJldHVybkNhcmQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIFwiLnBob3Rvc1wiKTtcclxuICAgICAgICBhZGRHYWxhcnkucmVuZGVySXRlbXMoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pO1xyXG5cclxuXHJcbi8vLy8vLy8vLy0tLS0tIE1ha2luZyBldmVyeSBjYXJkIC0tLS0tLS0vLy8vLy8vL1xyXG5jb25zdCBhZGROZXdDYXJkID0gKGRlc2NyaWJlLCBteUlkKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgZGVzY3JpYmUsICcudGVtcGxhdGUtY2FyZCcsIGhhbmRsZUNhcmRDbGljayxcclxuICAgIHtcclxuICAgICAgaGFuZGxlQ2FyZERlbGV0ZTogKGNhcmRUb0RlbCkgPT4ge1xyXG4gICAgICAgIGNvbmZpcm1Qb3B1cC5vcGVuKCk7XHJcbiAgICAgICAgY29uZmlybVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgICBhcGkuZGVsQ2FyZCgnY2FyZHMvJywgY2FyZFRvRGVsLl9pZClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNhcmQuZGVsQ2FyZCgpO1xyXG4gICAgICAgICAgICAgIGNvbmZpcm1Qb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBkZWxMaWtlOiAoY2FyZElkKSA9PiB7XHJcbiAgICAgICAgYXBpLmRlbExpa2UoYGNhcmRzLyR7Y2FyZElkfS9saWtlc2ApXHJcbiAgICAgICAgICAudGhlbigoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLnVwZGF0ZUxpa2VzKGl0ZW0ubGlrZXMpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgYWRkTGlrZTogKGNhcmRJZCkgPT4ge1xyXG4gICAgICAgIGFwaS5hZGRMaWtlKGBjYXJkcy8ke2NhcmRJZH0vbGlrZXNgKVxyXG4gICAgICAgICAgLnRoZW4oKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgY2FyZC51cGRhdGVMaWtlcyhpdGVtLmxpa2VzKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBteUlkKTtcclxuICBjb25zdCBuZXdSZXR1cm5DYXJkID0gY2FyZC5tYWtlQ2FyZCgpO1xyXG4gIHJldHVybiBuZXdSZXR1cm5DYXJkO1xyXG59XHJcblxyXG5cclxuLy8vLy8vLy8vLS0tLS0gUG9wdXAgZm9ybXMgY3JlYXRpbmcgLS0tLS0tLS8vLy8vLy8vXHJcbmNvbnN0IHBvcHVwQ2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAnLnBvcHVwX2FkZGVyJyxcclxuICAobmFtZUFuZExpbmspID0+IHtcclxuICAgIGFwaS5zZXRDYXJkKCdjYXJkcycsIG5hbWVBbmRMaW5rKVxyXG4gICAgICAudGhlbigoY2FyZCkgPT4ge1xyXG4gICAgICAgIFByb21pc2UucmVzb2x2ZShwb3B1cENhcmRGb3JtLmNoYW5nZVNhdmVCdXR0b24oKSk7XHJcbiAgICAgICAgY29uc3QgcmV0dXJuQ2FyZCA9IGFkZE5ld0NhcmQoY2FyZCwgY2FyZC5vd25lci5faWQpO1xyXG4gICAgICAgIGFkZEdhbGFyeS5wcmVwZW5kcyhyZXR1cm5DYXJkKTtcclxuICAgICAgICBwb3B1cENhcmRGb3JtLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4pO1xyXG5wb3B1cENhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAnLnBvcHVwX2VkaXRvcicsXHJcbiAgKG5ld0lucHV0cykgPT4ge1xyXG4gICAgYXBpLnNldFByb2ZpbGUoJ3VzZXJzL21lJywgbmV3SW5wdXRzKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIFByb21pc2UucmVzb2x2ZShwb3B1cFByb2ZpbGUuY2hhbmdlU2F2ZUJ1dHRvbigpKTtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxuICAgICAgICBwb3B1cFByb2ZpbGUuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbik7XHJcbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAnLnBvcHVwX2F2YXRhcicsXHJcbiAgKGdldEF2YXRhcikgPT4ge1xyXG4gICAgYXBpLnNldFByb2ZpbGUoJ3VzZXJzL21lL2F2YXRhcicsIGdldEF2YXRhcilcclxuICAgICAgLnRoZW4oKGF2YSkgPT4ge1xyXG4gICAgICAgIFByb21pc2UucmVzb2x2ZShwb3B1cEF2YXRhci5jaGFuZ2VTYXZlQnV0dG9uKCkpO1xyXG4gICAgICAgIHNldEF2YXRhcihhdmEuYXZhdGFyKTtcclxuICAgICAgICBwb3B1cEF2YXRhci5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuKTtcclxucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG4vLz09PT09PT1mdW5jdGlvbnM9PT09PT09PT1cclxuY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKGNhcmROYW1lLCBjYXJkTGluaykgPT4ge1xyXG4gIGJpZ0ltYWdlLm9wZW4oY2FyZE5hbWUsIGNhcmRMaW5rKTtcclxufVxyXG5cclxuY29uc3Qgc2V0QXZhdGFyID0gKGF2YXRhckxpbmspID0+IHtcclxuICBhdmF0YXJJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGF2YXRhckxpbmspO1xyXG59XHJcblxyXG4vLy0tLS0tLS0tZW5hYmxlIHZhbGlkYXRpb24tLS0tLS0tLS0tXHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uTGlzdCwgcHJvZmlsZUZvcm0pO1xyXG5wcm9maWxlRm9ybVZhbGlkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGNhcmRGb3JtVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uTGlzdCwgY2FyZEZvcm0pO1xyXG5jYXJkRm9ybVZhbGlkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0ZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25MaXN0LCBhdmF0YXJGb3JtKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcblxyXG4vLz09PT09PT09PT1idXR0b25zIGxpc3RlbmVycz09PT09PT09PT09XHJcblxyXG5jYXJkQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHBvcHVwQ2FyZEZvcm0ub3BlbigpO1xyXG4gIGNhcmRGb3JtVmFsaWRhdGUucmVzZXRWYWxpZGF0aW9uKCk7XHJcbn0pXHJcblxyXG5hdmF0YXJDaGFuZ2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcG9wdXBBdmF0YXIub3BlbigpO1xyXG4gIGF2YXRhckZvcm1WYWxpZGF0ZS5yZXNldFZhbGlkYXRpb24oKTtcclxufSlcclxuXHJcbnByb2ZpbGVPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XHJcbiAgY29uc3Qgb2xkUHJvZmlsZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgaW5wdXROYW1lLnZhbHVlID0gb2xkUHJvZmlsZS5uYW1lO1xyXG4gIGlucHV0bkRlc2NyaXB0LnZhbHVlID0gb2xkUHJvZmlsZS5hYm91dDtcclxuICBwcm9maWxlRm9ybVZhbGlkYXRlLnJlc2V0VmFsaWRhdGlvbigpO1xyXG59KVxyXG5cclxuIl0sIm5hbWVzIjpbInZhbGlkYXRpb25MaXN0IiwiYWN0aXZlRm9ybSIsImZvcm1JbnB1dCIsInBvcHVwU2F2ZUJ1dHRvbiIsInBvcHVwRGlzYWJsZUJ1dHRvbiIsImlucHV0RXJyb3IiLCJhY3RpdmVFcnJvciIsIm1haW4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlRm9ybSIsImZvcm1zIiwicHJvZmlsZSIsImNhcmRGb3JtIiwiYWRkSW1hZ2UiLCJhdmF0YXJGb3JtIiwiYWRkQXZhdGFyIiwiYXZhdGFySW1hZ2UiLCJDYXJkIiwiaXRlbSIsInNlbGVjdG9yVGVtcGxhdGUiLCJoYW5kbGVDYXJkQ2xpY2siLCJteUlkIiwiaGFuZGxlQ2FyZERlbGV0ZSIsImRlbExpa2UiLCJhZGRMaWtlIiwiX3NlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9oYW5kbGVDYXJkRGVsZXRlIiwiX2NhcmQiLCJvd25lciIsIl9pZCIsIl9teUlkIiwiX2NhcmRSZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2RlbGV0ZUltYWdlIiwicmVtb3ZlIiwiX2NhcmRMaWtlIiwiX2xpa2UiLCJfZGVsTGlrZSIsIl9hZGRMaWtlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2NhcmRJbWFnZSIsIl9oYW5kbGVDYXJkQ2xpY2siLCJuYW1lIiwibGluayIsImxpa2VzIiwibGVuZ3RoIiwiZmluZCIsImFkZCIsImNvdW50ZXIiLCJfbGlrZU51bWJlciIsInRleHRDb250ZW50IiwiX2NoZWNrTGlrZXMiLCJfYWRkTGlrZUNvdW50ZXIiLCJ0aGlzIiwiX2NhcmRFbGVtZW50IiwiX2NhcmRUZW1wbGF0ZSIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkTmFtZSIsInNldEF0dHJpYnV0ZSIsIl9hZGRFdmVudHMiLCJTZWN0aW9uIiwic2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImlubmVySFRNTCIsImNsZWFyIiwiZm9yRWFjaCIsIml0ZW1IdG1sIiwicHJlcGVuZCIsImFwcGVuZCIsIkZvcm1WYWxpZGF0b3IiLCJsaXN0IiwiZm9ybUFjdGl2ZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pbnB1dEFycmF5IiwiaW5wdXRzIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVycyIsInZhbGlkRWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9ySW5FbGVtZW50IiwiX2Zvcm0iLCJpZCIsIl9pbnB1dEVycm9yIiwiX2FjdGl2ZUVycm9yIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsImlucHV0RWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfc2F2ZUJ1dHRvbiIsIl9wb3B1cERpc2FibGVCdXR0b24iLCJyZW1vdmVBdHRyaWJ1dGUiLCJpbnB1dCIsIl9hY3RpdmVGb3JtIiwiX2Zvcm1JbnB1dCIsIl9wb3B1cFNhdmVCdXR0b24iLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiUG9wdXAiLCJfZXNjQ2xvc2VMaXN0ZW4iLCJldnQiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfY2xvc2VMaXN0ZW5lciIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX2JpZ0ltYWdlIiwiX2JpZ0ltYWdlQ2FwdGlvbiIsIlBvcHVwV2l0aEZvcm0iLCJnZXREYXRhRnJvbUFwaSIsIl9nZXREYXRhRnJvbUFwaSIsIm5ld1ZhbHVlcyIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwiYWJvdXQiLCJfbmFtZSIsIl9hYm91dCIsIm5ld0lucHV0cyIsIkFwaSIsInRva2VuIiwiX3VybCIsIl90b2tlbiIsIl9oZWFkZXJzIiwiZm9yVXJsIiwiZmV0Y2giLCJoZWFkZXJzIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJtZXRob2QiLCJzZXR0aW5ncyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiZGF0YSIsIlBvcHVwQ29uZmlybSIsImFjdGlvbiIsIl9wcmVzc1llc3MiLCJpbnB1dE5hbWUiLCJlbGVtZW50cyIsImlucHV0bkRlc2NyaXB0IiwicHJvZmlsZU9wZW5CdXR0b24iLCJjYXJkQWRkQnV0dG9uIiwiYXZhdGFyQ2hhbmdlQnV0dG9uIiwiYmlnSW1hZ2UiLCJzZXRFdmVudExpc3RlbmVycyIsImNvbmZpcm1Qb3B1cCIsInVzZXJJbmZvIiwiYXBpIiwiZ2V0RGF0YSIsInVzZXJzSW5mbyIsIndpbmRvdyIsInNldEF2YXRhciIsImF2YXRhciIsInNldFVzZXJJbmZvIiwiZGJDYXJkcyIsImFkZEdhbGFyeSIsInJldHVybkNhcmQiLCJhZGROZXdDYXJkIiwiYXBwZW5kcyIsInJlbmRlckl0ZW1zIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZGVzY3JpYmUiLCJjYXJkIiwiY2FyZFRvRGVsIiwib3BlbiIsInNldFN1Ym1pdEFjdGlvbiIsImRlbENhcmQiLCJ1cGRhdGVMaWtlcyIsIm1ha2VDYXJkIiwicG9wdXBDYXJkRm9ybSIsIm5hbWVBbmRMaW5rIiwic2V0Q2FyZCIsInJlc29sdmUiLCJjaGFuZ2VTYXZlQnV0dG9uIiwicHJlcGVuZHMiLCJwb3B1cFByb2ZpbGUiLCJzZXRQcm9maWxlIiwicG9wdXBBdmF0YXIiLCJnZXRBdmF0YXIiLCJhdmEiLCJjYXJkTmFtZSIsImNhcmRMaW5rIiwiYXZhdGFyTGluayIsInByb2ZpbGVGb3JtVmFsaWRhdGUiLCJlbmFibGVWYWxpZGF0aW9uIiwiY2FyZEZvcm1WYWxpZGF0ZSIsImF2YXRhckZvcm1WYWxpZGF0ZSIsInJlc2V0VmFsaWRhdGlvbiIsIm9sZFByb2ZpbGUiLCJnZXRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=